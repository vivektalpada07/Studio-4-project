(this["webpackJsonpeco-shop"]=this["webpackJsonpeco-shop"]||[]).push([[0],{111:function(e,t,a){e.exports=a(173)},118:function(e,t,a){},119:function(e,t,a){},123:function(e,t,a){},144:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var r=a(0),l=a.n(r),c=a(102),n=a.n(c),o=a(26);a(118);var s=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,181)).then(t=>{let{getCLS:a,getFID:r,getFCP:l,getLCP:c,getTTFB:n}=t;a(e),r(e),l(e),c(e),n(e)})},m=(a(119),a(97),a(20)),i=a(55),u=a(46),d=a(8),E=a(68),p=a(15),g=a(96),h=a(10),b=a(16),v=a(11);a(69);var f=function(){return l.a.createElement(b.a,{expand:"lg",className:"Header"},l.a.createElement(m.a,{className:"Navbar"},l.a.createElement(b.a.Brand,{href:"/",className:"protest-guerrilla-regular",style:{marginTop:8}},"Eco Shop"),l.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"navbar-toggler"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(h.a,{className:"ms-auto"},l.a.createElement(v.a,{title:"Category",id:"basic-nav-dropdown"},l.a.createElement(v.a.Item,{href:"/Allproducts"},"All Products"),l.a.createElement(v.a.Item,{href:"/Furnitures"},"Furnitures"),l.a.createElement(v.a.Item,{href:"/Homewares"},"Homewares"),l.a.createElement(v.a.Item,{href:"/Electricalgoods"},"Electrical Goods"),l.a.createElement(v.a.Item,{href:"/Otherproducts"},"Other products")),l.a.createElement(h.a.Link,{href:"/cart"},"Cart"),l.a.createElement(h.a.Link,{href:"/Wishlist"},"Wishlist"),l.a.createElement(h.a.Link,{href:"/login"},l.a.createElement(p.a,{variant:"outline-light",className:"login-button"},"Login")),l.a.createElement(h.a.Link,{href:"/signup"},l.a.createElement(p.a,{variant:"light",className:"signup-button"},"Signup"))))))};a(123);var y=function(){return l.a.createElement(b.a,{"data-bs-theme":"dark",style:{height:"80px"},className:"Footer"},l.a.createElement(m.a,{className:"d-flex flex-column align-items-center"},l.a.createElement(h.a,{className:"mx-auto mb-3"},l.a.createElement(h.a.Item,null,l.a.createElement(h.a.Link,{href:"/aboutus",title:"Learn more about us"},"About Us")),l.a.createElement(h.a.Item,null,l.a.createElement(h.a.Link,{href:"/return-refund-policy",title:"View our return and refund policy"},"Return & Refund Policy")),l.a.createElement(h.a.Item,null,l.a.createElement(h.a.Link,{href:"/contactus",title:"Get in touch with us"},"Contact Us")),l.a.createElement(h.a.Item,null,l.a.createElement(h.a.Link,{href:"/beseller",title:"Become a seller on Eco Shop"},"Be Seller"))),l.a.createElement("p",{className:"Copyright"},"Copyright \xa9 2024 Eco Shop")))},N=a(5),w=a(103),C=a(37),O=a(13);const j=Object(w.a)({apiKey:"AIzaSyA8rjGG3MIYtDjSnZRDaIKnCD6l46ybW-Y",authDomain:"eco-shop-60df7.firebaseapp.com",projectId:"eco-shop-60df7",storageBucket:"eco-shop-60df7.appspot.com",messagingSenderId:"292693377073",appId:"1:292693377073:web:3a88b142c8a2889242d510"}),x=Object(C.c)(j),S=Object(N.g)(j),P=Object(O.b)(j);const k=Object(r.createContext)();function I(e){let{children:t}=e;const[a,c]=Object(r.useState)([]),[n,o]=Object(r.useState)([]);return Object(r.useEffect)(()=>{(async()=>{try{const e=(await Object(N.f)(Object(N.b)(S,"products"))).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched Products:",e),c(e)}catch(e){console.error("Error fetching products:",e)}})(),(async()=>{try{const e=(await Object(N.f)(Object(N.b)(S,"checkout"))).docs.map(e=>({id:e.id,...e.data()}));o(e)}catch(e){console.error("Error fetching orders:",e)}})()},[]),l.a.createElement(k.Provider,{value:{products:a,addProduct:async function(e){try{const t={id:(await Object(N.a)(Object(N.b)(S,"products"),e)).id,...e};c(e=>[...e,t])}catch(t){console.error("Error adding product:",t)}},updateProduct:function(e,t){c(a=>a.map(a=>a.id===e?{...a,...t}:a))},deleteProduct:async function(e){try{await Object(N.c)(Object(N.d)(S,"products",e)),c(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Error deleting product:",t)}},orders:n,updateOrderStatus:async function(e,t){try{const a=Object(N.d)(S,"checkout",e);await Object(N.j)(a,{status:t}),o(a=>a.map(a=>a.id===e?{...a,status:t}:a))}catch(a){console.error("Error updating order status:",a)}}}},t)}function U(){return Object(r.useContext)(k)}var D=a(104),T=a.n(D);a(142),a(143),a(144);var L=function(){const{products:e}=U(),[t,a]=Object(r.useState)([]),[c,n]=Object(r.useState)(null),[o,s]=Object(r.useState)(!1),[d,h]=Object(r.useState)(""),b=Object(O.b)();Object(r.useEffect)(()=>{if(e.length>0){const t=[...e].sort(()=>.5-Math.random());a(t.slice(0,3))}},[e]),Object(r.useEffect)(()=>{(async()=>{try{const e=Object(O.c)(b,"images/EcoShop.png"),t=await Object(O.a)(e);h(t)}catch(e){console.error("Error fetching image:",e)}})()},[]);const v=()=>s(!1),N={dots:!0,infinite:!0,speed:100,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3};return l.a.createElement("div",{className:"wrapper"},l.a.createElement(f,null)," ",l.a.createElement(m.a,{className:"Home"},l.a.createElement(i.a,{className:"align-items-center mt-5"},l.a.createElement("div",{className:"image-section"},d?l.a.createElement("img",{src:d,alt:"EcoShop",className:"image"}):l.a.createElement("p",null,"Loading Image...")),l.a.createElement(u.a,{md:8,className:"d-flex align-items-center justify-content-center"},l.a.createElement("h3",{className:"text-end"},"If you're ever in the market for any furniture,",l.a.createElement("br",null),"homewares, electrical goods, and more,",l.a.createElement("br",null),"make the Eco Shop your first-stop shop!!!!!"))),l.a.createElement("br",null),l.a.createElement(i.a,null,l.a.createElement("h4",null,"Trending Products"),t.map(e=>l.a.createElement(u.a,{key:e.id,md:4,className:"mb-4"},l.a.createElement("div",{className:"card text-center"},l.a.createElement(T.a,N,e.imageUrls&&e.imageUrls.map((t,a)=>l.a.createElement("div",{key:a},l.a.createElement("img",{src:t,alt:e.productName,className:"card-img-top",style:{height:"200px",objectFit:"cover",borderRadius:"5px"}})))),l.a.createElement("div",{className:"card-body"},l.a.createElement("p",{className:"card-text"},l.a.createElement("strong",null,"Price: $",e.productPrice)),l.a.createElement("h5",{className:"card-title mt-3"},e.productName),l.a.createElement("p",{className:"card-text"},e.productDescription),l.a.createElement(p.a,{variant:"warning",onClick:()=>(e=>{n(e),s(!0)})(e)},"View Details"))))))),l.a.createElement(y,null)," ",c&&l.a.createElement(E.a,{show:o,onHide:v},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,c.productName)),l.a.createElement(E.a.Body,null,c.imageUrls&&c.imageUrls.length>0&&l.a.createElement(g.a,null,c.imageUrls.map((e,t)=>l.a.createElement(g.a.Item,{key:t},l.a.createElement("img",{className:"d-block w-100",src:e,alt:"Product "+(t+1),style:{height:"300px",objectFit:"cover",borderRadius:"5px"}})))),l.a.createElement("p",null,c.productDescription),l.a.createElement("p",{className:"product-price"},"Price: $",c.productPrice),l.a.createElement("p",{className:"product-description"},c.productDetailedDescription),l.a.createElement("p",{className:"product-seller-username"},"Seller Username: ",c.sellerUsername||"Unknown")),l.a.createElement(E.a.Footer,null,l.a.createElement(p.a,{variant:"secondary",onClick:v},"Close"),l.a.createElement(p.a,{variant:"warning",onClick:()=>console.log("Add to Wishlist clicked!")},"Add to Wishlist"),l.a.createElement(p.a,{variant:"primary",onClick:()=>console.log("Add to Cart clicked!")},"Add to Cart"))))},A=a(179),F=a(178),H=a(105),B=a.n(H);var W=new class{constructor(){this.addData=e=>Object(N.a)(Object(N.b)(S,"users"),e),this.setData=e=>Object(N.i)(Object(N.d)(S,"users",e.id),e),this.updateData=(e,t)=>{const a=Object(N.d)(S,"users",e);return Object(N.j)(a,t)},this.deleteData=e=>{const t=Object(N.d)(S,"users",e);return Object(N.c)(t)},this.getAllData=async()=>{const e=Object(N.b)(S,"users");return await Object(N.f)(e)},this.getData=e=>{const t=Object(N.d)(S,"users",e);return Object(N.e)(t)}}};const R=Object(r.createContext)();function G(e){let{children:t}=e;const[a,c]=Object(r.useState)(null),[n,o]=Object(r.useState)(""),[s,m]=Object(r.useState)(!0);return Object(r.useEffect)(()=>{const e=Object(C.d)(x,async e=>{if(e){c(e);try{const t=await W.getData(e.uid);t.exists()?o(t.data().role||""):(console.error("User document does not exist"),o(null),c(null))}catch(t){console.error("Error fetching user role:",t),o(null),c(null)}}else o(null),c(null);m(!1)});return()=>{e()}},[]),s?l.a.createElement("div",null,"Loading..."):l.a.createElement(R.Provider,{value:{user:a,role:n,logIn:function(e,t){return Object(C.e)(x,e,t)},signUp:function(e,t){return Object(C.b)(x,e,t)},logOut:function(){return Object(C.g)(x).then(()=>{o(null),c(null)})},googleSignIn:function(){const e=new C.a;return Object(C.f)(x,e)}}},t)}function $(){return Object(r.useContext)(R)}a(147);var M=()=>{const[e,t]=Object(r.useState)(""),[a,c]=Object(r.useState)(""),[n,s]=Object(r.useState)(""),[m,i]=Object(r.useState)(""),{logIn:u,googleSignIn:E}=$(),g=Object(d.q)(),h=Object(O.b)();Object(r.useEffect)(()=>{(async()=>{try{const e=Object(O.c)(h,"images/login.png"),t=await Object(O.a)(e);i(t)}catch(n){console.error("Error fetching image:",n)}})()},[h]);const b=async e=>{try{const t=await W.getData(e);if(t.exists){const e=t.data().role;"admin"===e?g("/admin"):"seller"===e?g("/seller"):"customer"===e?g("/customer"):s("Role not recognized.")}else s("User data not found.")}catch(n){s("Error fetching user data.")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(f,null)," ",l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement("h2",null,"Login")," ",l.a.createElement("div",{className:"login-container"},l.a.createElement("div",{className:"image-section"},m?l.a.createElement("img",{src:m,alt:"Login",className:"login-image"}):l.a.createElement("p",null,"Loading Image...")),l.a.createElement("div",{className:"form-section"},l.a.createElement("div",{className:"p-4 box"},n&&l.a.createElement(A.a,{variant:"danger"},n)," ",l.a.createElement(F.a,{onSubmit:async t=>{t.preventDefault(),s("");try{const t=await u(e,a);await b(t.user.uid)}catch(r){s(r.message)}}},l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicEmail"},l.a.createElement(F.a.Control,{type:"email",placeholder:"Email address",onChange:e=>t(e.target.value)})),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicPassword"},l.a.createElement(F.a.Control,{type:"password",placeholder:"Password",onChange:e=>c(e.target.value)})),l.a.createElement("div",{className:"d-grid gap-2"},l.a.createElement(p.a,{variant:"primary",type:"submit"},"Log In"))),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement(B.a,{className:"g-btn",type:"dark",onClick:async e=>{e.preventDefault();try{const e=await E();await b(e.user.uid)}catch(n){s(n.message)}}})),l.a.createElement("div",{className:"p-4 box mt-3 text-center"},"Don't have an account? ",l.a.createElement(o.b,{to:"/signup"},"Sign up")," "))))))};a(148);var q=()=>{const[e,t]=Object(r.useState)(""),[a,c]=Object(r.useState)(""),[n,s]=Object(r.useState)(""),[m,i]=Object(r.useState)(""),[u,E]=Object(r.useState)(""),[g,h]=Object(r.useState)(""),[b,v]=Object(r.useState)(""),[y]=Object(r.useState)("customer"),{signUp:N}=$();let w=Object(d.q)();return l.a.createElement("div",{className:"main-content",style:{marginTop:-130}},l.a.createElement(f,null),l.a.createElement("div",{className:"p-4 box"},l.a.createElement("h2",{className:"mb-3"},"Signup"),a&&l.a.createElement(A.a,{variant:"danger"},a),l.a.createElement(F.a,{onSubmit:async t=>{if(t.preventDefault(),c(""),n===m)try{const t=(await N(e,n)).user,a=(new Date).toISOString(),r={id:t.uid,name:u,email:e,mobile:g,username:b,role:y,createdAt:a};await W.setData(r),console.log("User profile created successfully"),w("/login")}catch(a){c(a.message)}else c("Passwords do not match!")}},l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicName"},l.a.createElement(F.a.Control,{type:"text",placeholder:"Name",onChange:e=>E(e.target.value),required:!0})),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicUsername"},l.a.createElement(F.a.Control,{type:"text",placeholder:"Username",onChange:e=>v(e.target.value),required:!0})),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicMobile"},l.a.createElement(F.a.Control,{type:"text",placeholder:"Mobile Number",onChange:e=>h(e.target.value),required:!0})),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicEmail"},l.a.createElement(F.a.Control,{type:"email",placeholder:"Email address",onChange:e=>t(e.target.value),required:!0})),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicPassword"},l.a.createElement(F.a.Control,{type:"password",placeholder:"Password",onChange:e=>s(e.target.value),required:!0})),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicConfirmPassword"},l.a.createElement(F.a.Control,{type:"password",placeholder:"Confirm Password",onChange:e=>i(e.target.value),required:!0})),l.a.createElement("div",{className:"d-grid gap-2"},l.a.createElement(p.a,{variant:"primary",type:"Submit"},"Sign up"))),l.a.createElement("div",{className:"p-4 box mt-3 text-center"},"Already have an account? ",l.a.createElement(o.b,{to:"/login"},"Log In"))))};var Y=()=>{const{user:e}=$(),[t,a]=Object(r.useState)(null),[c,n]=Object(r.useState)(!0),[o,s]=Object(r.useState)(!1),[m,i]=Object(r.useState)({}),[u,d]=Object(r.useState)("");Object(r.useEffect)(()=>{(async()=>{if(!e)return d("No current user logged in"),void n(!1);try{const t=await W.getData(e.uid);t.exists()?a(t.data()):d("User not found.")}catch(t){d("Error fetching user data.")}finally{n(!1)}})()},[e]);const g=e=>{const{name:t,value:a}=e.target;i({...m,[t]:a})};return c?l.a.createElement("div",null,"Loading profile..."):l.a.createElement("div",null,u&&l.a.createElement(A.a,{variant:"danger"},u),t?l.a.createElement("div",null,l.a.createElement("h2",null,l.a.createElement("strong",null,"User Profile")),l.a.createElement("p",null,"Name: ",t.name),l.a.createElement("p",null,"Email: ",t.email),l.a.createElement("p",null,"Mobile: ",t.mobile),l.a.createElement("p",null,"Username: ",t.username),l.a.createElement(p.a,{variant:"success",onClick:()=>{i(t),s(!0)},style:{width:"150px"}},"Edit Profile"),l.a.createElement(E.a,{show:o,onHide:()=>s(!1)},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,"Edit Profile")),l.a.createElement(E.a.Body,null,l.a.createElement(F.a,null,l.a.createElement(F.a.Group,{controlId:"formUserName"},l.a.createElement(F.a.Label,null,"Name"),l.a.createElement(F.a.Control,{type:"text",name:"name",value:m.name||"",onChange:g})),l.a.createElement(F.a.Group,{controlId:"formUserMobile"},l.a.createElement(F.a.Label,null,"Mobile"),l.a.createElement(F.a.Control,{type:"text",name:"mobile",value:m.mobile||"",onChange:g})),l.a.createElement(F.a.Group,{controlId:"formUserUsername"},l.a.createElement(F.a.Label,null,"Username"),l.a.createElement(F.a.Control,{type:"text",name:"username",value:m.username||"",onChange:g})))),l.a.createElement(E.a.Footer,null,l.a.createElement(p.a,{variant:"secondary",onClick:()=>s(!1)},"Close"),l.a.createElement(p.a,{variant:"primary",onClick:async()=>{try{await W.updateData(e.uid,m),a(m),s(!1)}catch(u){console.error("Error updating profile:",u)}}},"Save Changes")))):l.a.createElement("div",null,"User not found."))};var z=function(){const{logOut:e}=$(),t=Object(d.q)();return l.a.createElement(b.a,{expand:"lg",className:"Header"},l.a.createElement(m.a,{className:"Navbar"},l.a.createElement(b.a.Brand,{href:"/customer",className:"protest-guerrilla-regular",style:{marginTop:5}},"Eco Shop"),l.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav",style:{borderColor:"rgba(255, 255, 255, 0.5)"}},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(h.a,{className:"ms-auto"},l.a.createElement(v.a,{title:"Category",id:"basic-nav-dropdown"},l.a.createElement(v.a.Item,{href:"/Allproducts"},"All Products"),l.a.createElement(v.a.Item,{href:"/Furnitures"},"Furnitures"),l.a.createElement(v.a.Item,{href:"/Homewares"},"Homewares"),l.a.createElement(v.a.Item,{href:"/Electricalgoods"},"Electrical Goods"),l.a.createElement(v.a.Item,{href:"/Otherproducts"},"Other Products")),l.a.createElement(h.a.Link,{href:"/customer-orders"},"Purchase Orders"),l.a.createElement(h.a.Link,{href:"/beseller"},"Become a Seller"),l.a.createElement(h.a.Link,{href:"/cart"},"Cart"),l.a.createElement(h.a.Link,{href:"/Wishlist"},"Wishlist"),l.a.createElement(p.a,{variant:"outline-light",onClick:async()=>{try{await e(),t("/login")}catch(a){console.log("Failed to logout: ",a)}}},"Logout")))))};a(149);var V=function(){const{user:e}=$(),[t,a]=Object(r.useState)("");return Object(r.useEffect)(()=>{(async()=>{if(e)try{const t=await W.getData(e.uid);if(t.exists()){const e=t.data();a(e.name)}else console.log("No such user!")}catch(t){console.error("Error fetching user data: ",t)}})()},[e]),l.a.createElement("div",{className:"main-content"},l.a.createElement(z,null)," ",l.a.createElement("h2",{className:"welcome-message"},"Welcome to the Dashboard, ",t,"!"),l.a.createElement("div",{className:"user-profile"},l.a.createElement(Y,null)," "))};var Q=function(){const{logOut:e}=$(),t=Object(d.q)();return l.a.createElement(b.a,{expand:"lg",className:"Header"}," ",l.a.createElement(m.a,{className:"Navbar",style:{marginTop:20}}," ",l.a.createElement(b.a.Brand,{href:"/admin",className:"protest-guerrilla-regular",style:{marginTop:5}},"Eco Shop "),l.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav",style:{borderColor:"rgba(255, 255, 255, 0.5)"}},l.a.createElement("span",{className:"navbar-toggler-icon",style:{backgroundImage:"url('data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 1)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e')"}})),l.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"}," ",l.a.createElement(h.a,{className:"ms-auto"}," ",l.a.createElement(v.a,{title:"Dashboard",id:"admin-dashboard-dropdown"},l.a.createElement(v.a.Item,{href:"/admin"},"Dashboard")," ",l.a.createElement(v.a.Item,{href:"/manageusers"},"Manage Users")," ",l.a.createElement(v.a.Item,{href:"/sellerqueries"},"Seller Queries")," "),l.a.createElement(v.a,{title:"Products",id:"product-management-dropdown"},l.a.createElement(v.a.Item,{href:"/manageproduct"},"Manage Products")," ",l.a.createElement(v.a.Item,{href:"/addproduct"},"Add Product")," ",l.a.createElement(v.a.Item,{href:"/mylistings"},"My Listings")," "),l.a.createElement(h.a.Link,{href:"/orders"},"Orders")," ",l.a.createElement(v.a,{title:"Category",id:"basic-nav-dropdown"},l.a.createElement(v.a.Item,{href:"/Allproducts"},"All Products")," ",l.a.createElement(v.a.Item,{href:"/Furnitures"},"Furnitures")," ",l.a.createElement(v.a.Item,{href:"/Homewares"},"Homewares")," ",l.a.createElement(v.a.Item,{href:"/Electricalgoods"},"Electrical Goods")," ",l.a.createElement(v.a.Item,{href:"/Otherproducts"},"Other Products")," "),l.a.createElement(h.a.Link,{href:"/customer-orders"},"Purchase Orders")," ",l.a.createElement(h.a.Link,{href:"/cart"},"Cart"),l.a.createElement(h.a.Link,{href:"/Wishlist"},"Wishlist"),l.a.createElement(p.a,{variant:"outline-light",onClick:async()=>{try{await e(),t("/login")}catch(a){console.log("Failed to logout: ",a)}}},"Logout")," "))))};a(150);const Z=Object(N.b)(S,"checkout");var J=new class{constructor(){this.addCheckout=async(e,t)=>{try{console.log("userId passed to checkout: ",t);const a=await Object(N.a)(Z,{...e,userId:t});await Object(N.j)(a,{paymentId:a.id}),console.log("Document written with ID: ",a.id)}catch(a){console.error("Error adding checkout: ",a)}},this.getAllCheckouts=()=>Object(N.f)(Z),this.getCheckout=e=>{const t=Object(N.d)(S,"checkout",e);return Object(N.e)(t)}}},K=a(177);const _=Object(r.createContext)(),X=e=>{let{children:t}=e;const[a,c]=Object(r.useState)([]),n=async()=>{try{const e=(await Object(N.f)(Object(N.b)(S,"reviews"))).docs.map(e=>({id:e.id,...e.data()}));return c(e),e}catch(e){console.error("Error fetching reviews:",e)}};return Object(r.useEffect)(()=>{n()},[]),l.a.createElement(_.Provider,{value:{reviews:a,fetchAllReviews:n}},t)};var ee=()=>{const{reviews:e,fetchAllReviews:t}=Object(r.useContext)(_),{user:a}=$(),[c,n]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{a&&"admin"===a.role&&t()},[a,t]),l.a.createElement("div",null,l.a.createElement("h2",null,"All Product Reviews (Admin)"),l.a.createElement(p.a,{size:"md",onClick:()=>n(!c)},c?"Hide Reviews":"Show All Reviews"),c&&e.length>0?l.a.createElement(K.a,{striped:!0,bordered:!0,hover:!0,className:"mt-4"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Product Name"),l.a.createElement("th",null,"Review Content"),l.a.createElement("th",null,"Customer Name"),l.a.createElement("th",null,"Date"))),l.a.createElement("tbody",null,e.map(e=>l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.productName||"Unknown"),l.a.createElement("td",null,e.content||"No content"),l.a.createElement("td",null,e.customerName||"Anonymous"),l.a.createElement("td",null,e.createdAt&&e.createdAt.seconds?new Date(1e3*e.createdAt.seconds).toLocaleDateString():"N/A"))))):l.a.createElement("p",null,c?"No reviews available.":""))};var te=function(){const[e,t]=Object(r.useState)(0),[a,c]=Object(r.useState)(0),{user:n}=$(),[o,s]=Object(r.useState)("");return Object(r.useEffect)(()=>{(async()=>{try{const e=await J.getAllCheckouts();let a=0,r=0;e.docs.forEach(e=>{const t=e.data(),l=parseFloat(t.serverFee||0);a+=l;const c=t.items?t.items.length:0;r+=c}),t(a.toFixed(2)),c(r)}catch(e){console.error("Error fetching checkout data: ",e)}})(),(async()=>{try{if(n){const e=await W.getData(n.uid);if(e.exists()){const t=e.data();s(t.name)}else console.log("No such user!")}}catch(e){console.error("Error fetching user data: ",e)}})()},[n]),l.a.createElement("div",{className:"main-content",style:{marginTop:-40}},l.a.createElement(Q,null)," ",l.a.createElement("h2",{className:"welcome-message"},"Welcome to the Admin Dashboard, ",o,"!")," ",l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"user-profile"},l.a.createElement(Y,null))," ",l.a.createElement("div",{className:"dashboard-summary"},l.a.createElement("h3",{className:"summary-box"},l.a.createElement("p",{className:"text"},"Total Server Fees "),"$",e," "),l.a.createElement("h3",{className:"summary-box"},l.a.createElement("p",{className:"text"},"Total Products Sold "),a," "))),l.a.createElement(ee,null)," ")},ae=a(44);a(77);var re=function(){const{logOut:e}=$(),t=Object(d.q)();return l.a.createElement(b.a,{expand:"lg",className:"Header"},l.a.createElement(m.a,{className:"Navbar",style:{marginTop:20}},l.a.createElement(b.a.Brand,{href:"/seller",className:"protest-guerrilla-regular",style:{marginTop:5}},"Eco Shop"),l.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav",style:{borderColor:"rgba(255, 255, 255, 0.5)"}},l.a.createElement("span",{className:"navbar-toggler-icon",style:{backgroundImage:"url('data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 1)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e')"}})),l.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(h.a,{className:"ms-auto"},l.a.createElement(h.a.Link,{href:"/addproduct"},"Add Product"),l.a.createElement(h.a.Link,{href:"/mylistings"},"My Listings"),l.a.createElement(h.a.Link,{href:"/orders"},"Orders"),l.a.createElement(v.a,{title:"Category",id:"basic-nav-dropdown"},l.a.createElement(v.a.Item,{href:"/Allproducts"},"All Products"),l.a.createElement(v.a.Item,{href:"/Furnitures"},"Furnitures"),l.a.createElement(v.a.Item,{href:"/Homewares"},"Homewares"),l.a.createElement(v.a.Item,{href:"/Electricalgoods"},"Electrical Goods"),l.a.createElement(v.a.Item,{href:"/Otherproducts"},"OtherProducts")),l.a.createElement(h.a.Link,{href:"/customer-orders"},"Purchase Orders"),l.a.createElement(h.a.Link,{href:"/cart"},"Cart"),l.a.createElement(h.a.Link,{href:"/Wishlist"},"Wishlist"),l.a.createElement(p.a,{variant:"outline-light",onClick:async()=>{try{await e(),t("/login")}catch(a){console.log("Failed to logout: ",a)}}},"Logout")))))};var le=()=>{const{role:e}=$();return l.a.createElement(l.a.Fragment,null,"admin"===e&&l.a.createElement(Q,null),"       ","seller"===e&&l.a.createElement(re,null),"     ","customer"===e&&l.a.createElement(z,null)," ","admin"!==e&&"seller"!==e&&"customer"!==e&&l.a.createElement(f,null)," ")};const ce=Object(r.createContext)();function ne(e){let{children:t}=e;const[a,c]=Object(r.useState)([]),{user:n}=$();return Object(r.useEffect)(()=>{(async()=>{if(n)try{const e=Object(N.d)(S,"cart",n.uid),t=await Object(N.e)(e);t.exists()?c(t.data().items||[]):console.log("No cart items found")}catch(e){console.error("Error fetching cart items:",e)}})()},[n]),l.a.createElement(ce.Provider,{value:{cartItems:a,addToCart:async function(e){if(!n)return void alert("You need to log in to add items to the cart.");const t=n.displayName||n.email,a={...e,userName:t};try{const r=Object(N.d)(S,"cart",n.uid),l=await Object(N.e)(r);if(l.exists()){const o=l.data().items||[];if(o.some(t=>t.productId===e.productId))return void alert("This product is already in your cart.");const s=[...o,a];await Object(N.i)(r,{userId:n.uid,userName:t,items:s}),c(s)}else await Object(N.i)(r,{userId:n.uid,userName:t,items:[a]}),c([a])}catch(r){console.error("Error adding to cart:",r)}},removeFromCart:async function(e){try{const t=Object(N.d)(S,"cart",n.uid),a=await Object(N.e)(t);if(a.exists()){const r=(a.data().items||[]).filter(t=>t.productId!==e);await Object(N.i)(t,{...a.data(),items:r}),c(r)}}catch(t){console.error("Error removing from cart:",t)}}}},t)}function oe(){return Object(r.useContext)(ce)}const se=Object(r.createContext)();function me(e){let{children:t}=e;const[a,c]=Object(r.useState)([]),{user:n}=$();return Object(r.useEffect)(()=>{(async()=>{if(n)try{const e=Object(N.d)(S,"wishlist",n.uid),t=await Object(N.e)(e);t.exists()?c(t.data().items||[]):console.log("No wishlist items found")}catch(e){console.error("Error fetching wishlist items:",e)}})()},[n]),l.a.createElement(se.Provider,{value:{wishlist:a,addToWishlist:async function(e){if(!n)return void alert("You need to log in to add items to your wishlist.");const t=n.displayName||n.email,a={...e,userName:t};try{const r=Object(N.d)(S,"wishlist",n.uid),l=await Object(N.e)(r);if(l.exists()){const o=l.data().items||[];if(o.some(t=>t.productId===e.productId))alert("This product is already in your wishlist.");else{const e=[...o,a];await Object(N.i)(r,{userId:n.uid,userName:t,items:e}),c(e)}}else await Object(N.i)(r,{userId:n.uid,userName:t,items:[a]}),c([a])}catch(r){console.error("Error adding to wishlist:",r)}},removeFromWishlist:async function(e){try{const t=Object(N.d)(S,"wishlist",n.uid),a=await Object(N.e)(t);if(a.exists()){const r=(a.data().items||[]).filter(t=>t.productId!==e);await Object(N.i)(t,{...a.data(),items:r}),c(r)}}catch(t){console.error("Error removing from wishlist:",t)}}}},t)}function ie(){return Object(r.useContext)(se)}a(94);var ue=function(){const[e,t]=Object(r.useState)([]),[a,c]=Object(r.useState)([]),[n,o]=Object(r.useState)([]),[s,m]=Object(r.useState)(""),[i,u]=Object(r.useState)(null),[d,h]=Object(r.useState)(!1),[b,v]=Object(r.useState)("default"),{cartItems:f,addToCart:w}=oe(),{addToWishlist:C}=ie(),O=x.currentUser;Object(r.useEffect)(()=>{(async()=>{try{const e=Object(N.h)(Object(N.b)(S,"products"),Object(N.k)("category","==","furniture")),a=(await Object(N.f)(e)).docs.map(e=>({productId:e.id,...e.data()}));t(a),c(a)}catch(e){console.error("Error fetching products:",e)}})()},[]),Object(r.useEffect)(()=>{let e=[...a];"priceLowToHigh"===b?e.sort((e,t)=>e.productPrice-t.productPrice):"priceHighToLow"===b&&e.sort((e,t)=>t.productPrice-e.productPrice),c(e)},[b]);const j=e=>{u(e),h(!0),I(e.category)},P=()=>h(!1),k=e=>{if(!O)return void alert("Please log in to add items to the cart.");f.some(t=>t.productId===e.productId)?alert("This product is already in your cart."):w({...e})},I=async e=>{try{const t=Object(N.h)(Object(N.b)(S,"products"),Object(N.k)("category","==",e)),a=(await Object(N.f)(t)).docs.map(e=>({productId:e.id,...e.data()}));o(a)}catch(t){console.error("Error fetching similar products:",t)}};return l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"main-content",style:{marginTop:-50}},l.a.createElement("h2",{className:"text-center"},"Our Furniture Collection"),l.a.createElement("div",{className:"search-bar text-center mb-4"},l.a.createElement("input",{type:"text",placeholder:"Search for products...",value:s,onChange:t=>{const a=t.target.value.toLowerCase();m(a);const r=e.filter(e=>{var t;return e.productName.toLowerCase().includes(a)||e.productDescription.toLowerCase().includes(a)||(null===(t=e.sellerUsername)||void 0===t?void 0:t.toLowerCase().includes(a))});c(r)},className:"form-control",style:{maxWidth:"400px",margin:"0 auto"}})),l.a.createElement("div",{className:"sort-options text-center mb-4"},l.a.createElement("select",{value:b,onChange:e=>{v(e.target.value)},className:"form-control",style:{maxWidth:"200px",margin:"0 auto"}},l.a.createElement("option",{value:"default"},"Sort by Price"),l.a.createElement("option",{value:"priceLowToHigh"},"Price: Low to High"),l.a.createElement("option",{value:"priceHighToLow"},"Price: High to Low"))),a.length>0?l.a.createElement("div",{className:"row justify-content-center"},a.map((e,t)=>l.a.createElement("div",{className:"col-md-4",key:t},l.a.createElement("div",{className:"card text-center"},l.a.createElement("div",{className:"card-body"},e.imageUrls&&e.imageUrls[0]&&l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("h5",{className:"card-title"},e.productName),l.a.createElement("p",{className:"card-text"},l.a.createElement("strong",null,"Price: $",e.productPrice)),l.a.createElement("p",{className:"card-text"},e.productDescription),l.a.createElement("p",{className:"card-text"},"Seller Username: ",e.sellerUsername||"Unknown"),l.a.createElement("button",{className:"btn add-to-cart mb-2",onClick:()=>k(e)},"Add to Cart"),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00"},onClick:()=>j(e)},"View Details")))))):l.a.createElement("p",null,"No furniture products found.")),l.a.createElement(y,null),i&&l.a.createElement(E.a,{show:d,onHide:P,scrollable:!0},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,i.productName)),l.a.createElement(E.a.Body,{style:{maxHeight:"500px",overflowY:"auto"}},i.imageUrls&&i.imageUrls.length>0&&l.a.createElement(g.a,null,i.imageUrls.map((e,t)=>l.a.createElement(g.a.Item,{key:t},l.a.createElement(ae.a,{smallImage:{alt:i.productName,isFluidWidth:!0,src:e},largeImage:{src:e,width:1200,height:1200},enlargedImagePosition:"beside",isHintEnabled:!0})))),l.a.createElement("div",{className:"product-details"},l.a.createElement("p",{className:"product-price"},"Price: $",i.productPrice),l.a.createElement("p",null,i.productDescription),l.a.createElement("p",{className:"product-description"},i.productDetailedDescription),l.a.createElement("p",{className:"product-seller-username"},"Seller Username: ",i.sellerUsername||"Unknown")),l.a.createElement("div",{className:"product-buttons"},l.a.createElement(p.a,{variant:"warning",className:"mb-3",onClick:()=>{O?i?(C({...i}),P()):console.error("No product selected or product data is incomplete."):alert("Please log in to add items to your wishlist.")}},"Add to Wishlist"),l.a.createElement(p.a,{variant:"primary",className:"mb-3",onClick:()=>k(i)},"Add to Cart"),l.a.createElement(p.a,{variant:"secondary",className:"mb-3",onClick:P},"Close")),l.a.createElement("div",{className:"similar-products"},l.a.createElement("h5",null,"Similar Products"),l.a.createElement("div",{className:"row"},n.map((e,t)=>l.a.createElement("div",{className:"col-4",key:t},l.a.createElement("div",{className:"card text-center"},l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h6",null,e.productName),l.a.createElement("p",null,"Price: $",e.productPrice),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00",color:"white",width:"100%",marginTop:"10px"},onClick:()=>j(e)},"View Details"))))))))))};a(163);var de=function(){const[e,t]=Object(r.useState)([]),[a,c]=Object(r.useState)([]),[n,o]=Object(r.useState)([]),[s,m]=Object(r.useState)(""),[i,u]=Object(r.useState)(null),[d,h]=Object(r.useState)(!1),[b,v]=Object(r.useState)("asc"),{cartItems:f,addToCart:w}=oe(),{addToWishlist:C}=ie(),O=x.currentUser;Object(r.useEffect)(()=>{(async()=>{try{const e=Object(N.h)(Object(N.b)(S,"products"),Object(N.k)("category","==","homewares")),a=(await Object(N.f)(e)).docs.map(e=>({productId:e.id,...e.data()}));t(a),c(a)}catch(e){console.error("Error fetching products:",e)}})()},[]),Object(r.useEffect)(()=>{const e=[...a].sort((e,t)=>"asc"===b?e.productPrice-t.productPrice:t.productPrice-e.productPrice);c(e)},[b]);const j=()=>h(!1),P=e=>{if(!O)return void alert("Please log in to add items to the cart.");f.some(t=>t.productId===e.productId)?alert("This product is already in your cart."):w({...e})},k=async e=>{try{const t=Object(N.h)(Object(N.b)(S,"products"),Object(N.k)("category","==",e)),a=(await Object(N.f)(t)).docs.map(e=>({productId:e.id,...e.data()}));o(a)}catch(t){console.error("Error fetching similar products:",t)}};return l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement("h2",{className:"text-center"},"Our Homewares Collection"),l.a.createElement("div",{className:"search-bar text-center mb-4"},l.a.createElement("input",{type:"text",placeholder:"Search for products...",value:s,onChange:t=>{const a=t.target.value.toLowerCase();m(a);const r=e.filter(e=>{var t;return e.productName.toLowerCase().includes(a)||e.productDescription.toLowerCase().includes(a)||(null===(t=e.sellerUsername)||void 0===t?void 0:t.toLowerCase().includes(a))});c(r)},className:"form-control",style:{maxWidth:"400px",margin:"0 auto"}})),l.a.createElement("div",{className:"sort-dropdown text-center mb-4"},l.a.createElement("select",{value:b,onChange:e=>{v(e.target.value)},className:"form-control",style:{maxWidth:"200px",margin:"0 auto"}},l.a.createElement("option",{value:"asc"},"Sort by Price: Low to High"),l.a.createElement("option",{value:"desc"},"Sort by Price: High to Low"))),a.length>0?l.a.createElement("div",{className:"row justify-content-center"},a.map((e,t)=>l.a.createElement("div",{className:"col-md-4",key:t},l.a.createElement("div",{className:"card text-center"},l.a.createElement("div",{className:"card-body"},e.imageUrls&&e.imageUrls[0]&&l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("h5",{className:"card-title"},e.productName),l.a.createElement("p",{className:"card-text"},e.productDescription),l.a.createElement("p",{className:"card-text"},l.a.createElement("strong",null,"Price: $",e.productPrice)),l.a.createElement("p",{className:"card-text"},"Seller Username: ",e.sellerUsername||"Unknown"),l.a.createElement("button",{className:"btn add-to-cart mb-2",onClick:()=>P(e)},"Add to Cart"),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00"},onClick:()=>(e=>{u(e),h(!0),k(e.category)})(e)},"View Details")))))):l.a.createElement("p",null,"No homewares products found.")),l.a.createElement(y,null),i&&l.a.createElement(E.a,{show:d,onHide:j,scrollable:!0},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,i.productName)),l.a.createElement(E.a.Body,{style:{maxHeight:"500px",overflowY:"auto"}},i.imageUrls&&i.imageUrls.length>0&&l.a.createElement(g.a,null,i.imageUrls.map((e,t)=>l.a.createElement(g.a.Item,{key:t},l.a.createElement(ae.a,{smallImage:{alt:i.productName,isFluidWidth:!0,src:e},largeImage:{src:e,width:1200,height:1200},enlargedImagePosition:"beside",isHintEnabled:!0})))),l.a.createElement("div",{className:"product-details"},l.a.createElement("p",{className:"product-seller-username"},"Seller Username: ",i.sellerUsername||"Unknown"),l.a.createElement("p",null,i.productDescription),l.a.createElement("p",{className:"product-description"},i.productDetailedDescription),l.a.createElement("p",{className:"product-price"},"Price: $",i.productPrice)),l.a.createElement("div",{className:"product-buttons"},l.a.createElement(p.a,{variant:"warning",className:"mb-3",onClick:()=>{O?i?(C({...i}),j()):console.error("No product selected or product data is incomplete."):alert("Please log in to add items to your wishlist.")}},"Add to Wishlist"),l.a.createElement(p.a,{variant:"primary",className:"mb-3",onClick:()=>P(i)},"Add to Cart"),l.a.createElement(p.a,{variant:"secondary",className:"mb-3",onClick:j},"Close")),l.a.createElement("div",{className:"similar-products"},l.a.createElement("h5",null,"Similar Products"),l.a.createElement("div",{className:"row"},n.map((e,t)=>l.a.createElement("div",{className:"col-4",key:t},l.a.createElement("div",{className:"card text-center"},l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h6",null,e.productName),l.a.createElement("p",null,"Price: $",e.productPrice),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00",color:"white",width:"100%",marginTop:"10px"},onClick:()=>(e=>{u(e),k(e.category)})(e)},"View Details"))))))))))},Ee=a(25);a(164);var pe=function(){const{cartItems:e,removeFromCart:t}=oe(),{user:a}=$(),[c,n]=Object(r.useState)([]),[o,s]=Object(r.useState)(0),E=Object(d.q)();return Object(r.useEffect)(()=>{const t=e.filter(e=>c.includes(e.productId)).reduce((e,t)=>e+t.productPrice,0);s(t)},[c,e]),a?l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"content"},l.a.createElement(m.a,null,l.a.createElement("h2",{className:"text-center mb-4"},"Your Cart"),e.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{className:"justify-content-center"},e.map(e=>l.a.createElement(u.a,{md:4,key:e.productId},l.a.createElement(Ee.a,{className:"mb-4 product-card"},e.imageUrls&&e.imageUrls.length>0&&l.a.createElement(Ee.a.Img,{variant:"top",src:e.imageUrls[0],alt:e.productName}),l.a.createElement(Ee.a.Body,{className:"product-card-body"},l.a.createElement(Ee.a.Title,null,e.productName),l.a.createElement(Ee.a.Text,null,e.productDescription),l.a.createElement(Ee.a.Text,null,l.a.createElement("strong",null,"Price: $",e.productPrice.toFixed(2))),l.a.createElement(Ee.a.Text,null,"Seller: ",e.sellerUsername),l.a.createElement(p.a,{variant:c.includes(e.productId)?"success":"primary",onClick:()=>{return t=e.productId,void n(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"buy-now-button "+(c.includes(e.productId)?"selected":"")},c.includes(e.productId)?"\u2713 Selected":"Buy Now"),l.a.createElement(p.a,{variant:"danger",onClick:()=>t(e.productId),className:"remove-cart-button"},"Remove from Cart")))))),o>0&&l.a.createElement("div",{className:"text-center mt-3"},l.a.createElement("h3",null,"Total Price for Selected Products: $",o.toFixed(2))),l.a.createElement("div",{className:"text-center mt-3"},l.a.createElement(p.a,{variant:"success",size:"lg",className:"checkout-button",onClick:()=>{if(!a)return void alert("You need to log in to proceed to checkout.");if(0===c.length)return void alert("Please select at least one product to proceed.");const t=e.filter(e=>c.includes(e.productId)).map(e=>({productId:e.productId,productName:e.productName,productPrice:e.productPrice,productDescription:e.productDescription,sellerUsername:e.sellerUsername,sellerId:e.sellerId,imageUrls:e.imageUrls}));E("/checkout",{state:{selectedProducts:t}})},disabled:0===c.length},"Proceed to Checkout"))):l.a.createElement("p",{className:"text-center"},"Your cart is empty.")))):l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"content"},l.a.createElement(m.a,null,l.a.createElement("p",{className:"text-center"},"You need to log in to view your cart."),l.a.createElement("div",{className:"text-center"},l.a.createElement(p.a,{variant:"primary",onClick:()=>E("/login"),style:{width:"150px"}},"Log In")))),l.a.createElement(y,null))};a(165);var ge=function(){const{wishlist:e,removeFromWishlist:t}=ie(),{cartItems:a,addToCart:r}=oe(),{user:c}=$(),n=Object(d.q)(),o=e.reduce((e,t)=>e+t.productPrice,0);return c?l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"main-content",style:{marginTop:-50}},l.a.createElement(m.a,null,l.a.createElement("h2",{className:"text-center mb-4"},"Your Wishlist"),l.a.createElement(i.a,{className:"justify-content-center"},e.map((e,n)=>l.a.createElement(u.a,{md:4,key:e.productId},l.a.createElement(Ee.a,{className:"mb-4 product-card"},e.imageUrls&&e.imageUrls.length>0&&l.a.createElement(Ee.a.Img,{variant:"top",src:e.imageUrls[0],alt:e.productName}),l.a.createElement(Ee.a.Body,{className:"product-card-body"},l.a.createElement(Ee.a.Title,null,e.productName),l.a.createElement(Ee.a.Text,null,e.productDescription),l.a.createElement(Ee.a.Text,null,l.a.createElement("strong",null,"Price: $",e.productPrice.toFixed(2))),l.a.createElement(Ee.a.Text,null,"Seller: ",e.sellerUsername),l.a.createElement(p.a,{variant:"danger",onClick:()=>t(e.productId)},"Remove from Wishlist"),l.a.createElement("button",{className:"btn add-to-cart mb-2 mt-2",onClick:()=>(e=>{if(!c)return void alert("Please log in to add items to the cart.");a.some(t=>t.productId===e.productId)?alert("This product is already in your cart."):r({...e})})(e)},"Add to Cart")))))),l.a.createElement("h3",{className:"text-center mt-4"},"Total Price: $",o.toFixed(2)))),l.a.createElement(y,null)):l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"content"},l.a.createElement(m.a,null,l.a.createElement("p",{className:"text-center"},"You need to log in to view your wishlist."),l.a.createElement("div",{className:"text-center"},l.a.createElement(p.a,{variant:"primary",onClick:()=>n("/login"),style:{width:"150px"}},"Log In")))),l.a.createElement(y,null))};a(166);var he=function(){const[e,t]=Object(r.useState)([]),[a,c]=Object(r.useState)([]),[n,o]=Object(r.useState)([]),[s,m]=Object(r.useState)(""),[i,u]=Object(r.useState)(null),[d,h]=Object(r.useState)(!1),[b,v]=Object(r.useState)("asc"),{cartItems:f,addToCart:w}=oe(),{addToWishlist:C}=ie(),O=x.currentUser;Object(r.useEffect)(()=>{(async()=>{try{const e=Object(N.h)(Object(N.b)(S,"products"),Object(N.k)("category","==","electricalgoods")),a=(await Object(N.f)(e)).docs.map(e=>({productId:e.id,...e.data()}));t(a),c(a)}catch(e){console.error("Error fetching products:",e)}})()},[]),Object(r.useEffect)(()=>{c((e=>[...e].sort((e,t)=>"asc"===b?e.productPrice-t.productPrice:t.productPrice-e.productPrice))(a))},[b]);const j=e=>{u(e),h(!0),I(e.category)},P=()=>h(!1),k=e=>{if(!O)return void alert("Please log in to add items to the cart.");f.some(t=>t.productId===e.productId)?alert("This product is already in your cart."):w({...e})},I=async e=>{try{const t=Object(N.h)(Object(N.b)(S,"products"),Object(N.k)("category","==",e)),a=(await Object(N.f)(t)).docs.map(e=>({productId:e.id,...e.data()}));o(a)}catch(t){console.error("Error fetching similar products:",t)}};return l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"main-content",style:{marginTop:-50}},l.a.createElement("h2",{className:"text-center"},"Our Electrical Goods Collection"),l.a.createElement("div",{className:"search-bar text-center mb-4"},l.a.createElement("input",{type:"text",placeholder:"Search for products...",value:s,onChange:t=>{const a=t.target.value.toLowerCase();m(a);const r=e.filter(e=>{var t;return e.productName.toLowerCase().includes(a)||e.productDescription.toLowerCase().includes(a)||(null===(t=e.sellerUsername)||void 0===t?void 0:t.toLowerCase().includes(a))});c(r)},className:"form-control",style:{maxWidth:"400px",margin:"0 auto"}})),l.a.createElement("div",{className:"sort-dropdown text-center mb-4"},l.a.createElement("select",{value:b,onChange:e=>{v(e.target.value)},className:"form-control",style:{maxWidth:"200px",margin:"0 auto"}},l.a.createElement("option",{value:"asc"},"Price: Low to High"),l.a.createElement("option",{value:"desc"},"Price: High to Low"))),a.length>0?l.a.createElement("div",{className:"row justify-content-center"},a.map(e=>l.a.createElement("div",{className:"col-md-4",key:e.productId},l.a.createElement("div",{className:"card text-center"},l.a.createElement("div",{className:"card-body"},e.imageUrls&&e.imageUrls[0]&&l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("h5",{className:"card-title"},e.productName),l.a.createElement("p",{className:"card-text"},e.productDescription),l.a.createElement("p",{className:"card-text"},l.a.createElement("strong",null,"Price: $",e.productPrice)),l.a.createElement("p",{className:"card-text"},"Seller Username: ",e.sellerUsername||"Unknown"),l.a.createElement("button",{className:"btn add-to-cart mb-2",onClick:()=>k(e)},"Add to Cart"),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00"},onClick:()=>j(e)},"View Details")))))):l.a.createElement("p",null,"No electrical goods products found.")),l.a.createElement(y,null),i&&l.a.createElement(E.a,{show:d,onHide:P,scrollable:!0},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,i.productName)),l.a.createElement(E.a.Body,{style:{maxHeight:"500px",overflowY:"auto"}},i.imageUrls&&i.imageUrls.length>0&&l.a.createElement(g.a,null,i.imageUrls.map((e,t)=>l.a.createElement(g.a.Item,{key:t},l.a.createElement(ae.a,{smallImage:{alt:i.productName,isFluidWidth:!0,src:e},largeImage:{src:e,width:1200,height:1200},enlargedImagePosition:"beside",isHintEnabled:!0})))),l.a.createElement("div",{className:"product-details"},l.a.createElement("p",{className:"product-seller-username"},"Seller Username: ",i.sellerUsername||"Unknown"),l.a.createElement("p",null,i.productDescription),l.a.createElement("p",{className:"product-description"},i.productDetailedDescription),l.a.createElement("p",{className:"product-price"},"Price: $",i.productPrice)),l.a.createElement("div",{className:"product-buttons"},l.a.createElement(p.a,{variant:"warning",className:"mb-3",onClick:()=>{O?i?(C({...i}),P()):console.error("No product selected or product data is incomplete."):alert("Please log in to add items to your wishlist.")}},"Add to Wishlist"),l.a.createElement(p.a,{variant:"primary",className:"mb-3",onClick:()=>k(i)},"Add to Cart"),l.a.createElement(p.a,{variant:"secondary",className:"mb-3",onClick:P},"Close")),l.a.createElement("div",{className:"similar-products"},l.a.createElement("h5",null,"Similar Products"),l.a.createElement("div",{className:"row"},n.map(e=>l.a.createElement("div",{className:"col-md-4",key:e.productId},l.a.createElement("div",{className:"card text-center"},e.imageUrls&&e.imageUrls[0]&&l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h6",null,e.productName),l.a.createElement("p",null,"Price: $",e.productPrice),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00"},onClick:()=>j(e)},"View Details"))))))))))};a(167);var be=function(){const[e,t]=Object(r.useState)(""),a=Object(O.b)();return Object(r.useEffect)(()=>{(async()=>{try{const e=Object(O.c)(a,"images/about us.jpg"),r=await Object(O.a)(e);t(r)}catch(e){console.error("Error fetching image:",e)}})()},[]),l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"main-content"},l.a.createElement(m.a,{className:"AboutUs"},l.a.createElement(i.a,{className:"Title"},l.a.createElement("h3",null,"About Us")),l.a.createElement("br",null),l.a.createElement(i.a,null,l.a.createElement("h5",null,"Discover our Eco Shop")),l.a.createElement(i.a,null,l.a.createElement("p",null,"The Eco Shop is a second-hand deal platform where customers can buy as well as sell their products.",l.a.createElement("br",null)," Sellers can list their products for sale, and customers can browse through various categories,",l.a.createElement("br",null)," including furniture, homeware, and electrical goods.",l.a.createElement("br",null),l.a.createElement("br",null),"Our mission is to offer affordable deals that make it easy for customers to purchase products at low prices.",l.a.createElement("br",null)," We aim to provide a user-friendly experience, ensuring both customers and sellers can navigate",l.a.createElement("br",null)," efficiently to search for, display, and manage their products with ease.")),e?l.a.createElement("img",{src:e,alt:"About Us",className:"aboutus-image"}):l.a.createElement("p",null,"Loading Image....."))),l.a.createElement(y,null))};a(168);var ve=function(){const[e,t]=Object(r.useState)(""),a=Object(O.b)();return Object(r.useEffect)(()=>{(async()=>{try{const e=Object(O.c)(a,"images/r&rpolicy.png"),r=await Object(O.a)(e);t(r)}catch(e){console.error("Error fetching image:",e)}})()},[]),l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"main-content"},l.a.createElement(m.a,{className:"RRPolicy"},l.a.createElement(i.a,{className:"Title"},l.a.createElement("h3",null,"Return & Refund Policy")),l.a.createElement(i.a,null,l.a.createElement("p",null,"Thankyou for shopping at Eco Shop. In any case if you are not satisfied with your",l.a.createElement("br",null),"purchase you can follow the return and refund process as mentioned below.")),l.a.createElement("br",null),l.a.createElement(i.a,{className:"Return"},l.a.createElement("h5",null,"Returns")),l.a.createElement(i.a,{className:"Description"},l.a.createElement("p",null,"You have only 30 days to return a product from the date you received it. To be eligible for a return, your product must be unused and it needs to have the proof of purchase.")),l.a.createElement(i.a,{className:"Refund"},l.a.createElement("h5",null,"Refunds")),l.a.createElement(i.a,{className:"Description"},l.a.createElement("p",null,"Once we receive your product, we will let you know that we have received your product. If your product is approved, we will do a refund to any payment method of your choice.")),e?l.a.createElement("img",{src:e,alt:"R&RPolicy",className:"policy-image"}):l.a.createElement("p",null,"Loading Image..."))),l.a.createElement(y,null))},fe=a(180);const ye=Object(N.b)(S,"contacts");var Ne=new class{constructor(){this.addContact=e=>Object(N.a)(ye,e),this.getAllContacts=()=>Object(N.f)(ye),this.getContact=e=>{const t=Object(N.d)(S,"contacts",e);return Object(N.e)(t)}}};var we=function(){const[e,t]=Object(r.useState)(""),[a,c]=Object(r.useState)(""),[n,o]=Object(r.useState)(""),[s,m]=Object(r.useState)(""),[i,u]=Object(r.useState)({error:!1,msg:""});return l.a.createElement("div",{className:"main-content",style:{marginTop:-110}},l.a.createElement(le,null),l.a.createElement("div",{className:"p-4 box"},i.msg&&l.a.createElement(A.a,{variant:i.error?"danger":"success",dismissible:!0,onClose:()=>u({error:!1,msg:""})},i.msg),l.a.createElement("h2",null,"Contact Us"),l.a.createElement(F.a,{onSubmit:async r=>{if(r.preventDefault(),u({error:!1,msg:""}),""===e||""===a||""===n||""===s)return void u({error:!0,msg:"Please fill out all fields!"});const l={name:e,email:a,subject:n,message:s};try{await Ne.addContact(l),u({error:!1,msg:"Your message has been sent successfully!"})}catch(i){console.error("Error sending message:",i),u({error:!0,msg:"Failed to send message. Please try again later."})}t(""),c(""),o(""),m("")}},l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formContactName"},l.a.createElement(fe.a,null,l.a.createElement(fe.a.Text,{id:"formContactName"},"Name"),l.a.createElement(F.a.Control,{type:"text",placeholder:"Your Name",value:e,onChange:e=>t(e.target.value)}))),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formContactEmail"},l.a.createElement(fe.a,null,l.a.createElement(fe.a.Text,{id:"formContactEmail"},"@"),l.a.createElement(F.a.Control,{type:"email",placeholder:"Your Email",value:a,onChange:e=>c(e.target.value)}))),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formContactSubject"},l.a.createElement(fe.a,null,l.a.createElement(fe.a.Text,{id:"formContactSubject"},"Subject"),l.a.createElement(F.a.Control,{type:"text",placeholder:"Subject",value:n,onChange:e=>o(e.target.value)}))),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formContactMessage"},l.a.createElement(F.a.Control,{as:"textarea",rows:4,placeholder:"Your Message",value:s,onChange:e=>m(e.target.value)})),l.a.createElement("div",{className:"d-grid gap-2"},l.a.createElement(p.a,{variant:"success",type:"submit"},"Send Message")))))};a(169);var Ce=function(){const[e,t]=Object(r.useState)(""),[a,c]=Object(r.useState)(""),[n,o]=Object(r.useState)(""),[s,m]=Object(r.useState)(""),[i,u]=Object(r.useState)("furniture"),[d,E]=Object(r.useState)([]),[p,g]=Object(r.useState)([]),[h,b]=Object(r.useState)(0),[v,f]=Object(r.useState)(""),y=Object(O.b)();return l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement(le,null),l.a.createElement("h2",null,"Add Product"),l.a.createElement("form",{onSubmit:async r=>{r.preventDefault();try{const r=x.currentUser;if(!r)throw new Error("User not authenticated");const l=await Object(N.a)(Object(N.b)(S,"products"),{productName:e,productDescription:a,productDetailedDescription:n,productPrice:Number(s),category:i,imageUrls:p,sellerId:r.uid,sellerUsername:r.displayName||r.email.split("@")[0],sellerEmail:r.email});console.log("Document written with ID: ",l.id),f("Product added successfully!"),t(""),c(""),o(""),m(""),u("furniture"),E([]),g([]),b(0),setTimeout(()=>{f("")},3e3)}catch(r){console.error("Error adding document: ",r)}}},l.a.createElement("div",null,l.a.createElement("label",null,"Product Name:"),l.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0})),l.a.createElement("div",null,l.a.createElement("label",null,"Product Description:"),l.a.createElement("input",{type:"text",value:a,onChange:e=>c(e.target.value),required:!0})),l.a.createElement("div",null,l.a.createElement("label",null,"Detailed Description:"),l.a.createElement("textarea",{value:n,onChange:e=>o(e.target.value),required:!0})),l.a.createElement("div",null,l.a.createElement("label",null,"Product Price:"),l.a.createElement("input",{type:"number",value:s,onChange:e=>m(e.target.value),required:!0})),l.a.createElement("div",null,l.a.createElement("label",null,"Category:"),l.a.createElement("select",{value:i,onChange:e=>u(e.target.value),required:!0},l.a.createElement("option",{value:"furniture"},"Furnitures"),l.a.createElement("option",{value:"electricalgoods"},"Electrical Goods"),l.a.createElement("option",{value:"homewares"},"Homewares"),l.a.createElement("option",{value:"other"},"Other Products")," ")),l.a.createElement("div",null,l.a.createElement("label",null,"Upload Images:"),l.a.createElement("input",{type:"file",onChange:e=>{e.target.files&&E([...e.target.files])},multiple:!0}),l.a.createElement("button",{type:"button",onClick:()=>{if(0===d.length)return void alert("Please select images to upload.");const t=d.map(t=>{const a=Object(O.c)(y,`images/${e}/${t.name}`),r=Object(O.e)(a,t);return new Promise((e,t)=>{r.on("state_changed",e=>{const t=Math.round(e.bytesTransferred/e.totalBytes*100);b(t)},e=>{console.error("Upload failed: ",e),t(e)},()=>{Object(O.a)(r.snapshot.ref).then(t=>{g(e=>[...e,t]),e(t)})})})});Promise.all(t).then(e=>{console.log("All images uploaded:",e),alert("Images uploaded successfully!")}).catch(e=>{console.error("Error uploading images: ",e),alert("Failed to upload images. Please try again.")})}},"Upload Images"),l.a.createElement("progress",{value:h,max:"100"}),p.length>0&&p.map((e,t)=>l.a.createElement("img",{key:t,src:e,alt:"Uploaded",style:{width:"100px",marginTop:"10px"}}))),l.a.createElement("button",{type:"submit"},"Add Product")),v&&l.a.createElement("p",{style:{color:"green"}},v))};const Oe=e=>{let{children:t}=e;const{user:a,role:r}=$();return console.log("Check user in AdminRoute: ",a),console.log("Check user role in AdminRoute: ",r),a?"admin"===r?t:l.a.createElement(l.a.Fragment,null," You do not have access to this page"):l.a.createElement(d.a,{to:"/"})},je=e=>{let{children:t}=e;const{user:a,role:r}=$();return console.log("Check user in SellerRoute: ",a),console.log("Check user role in SellerRoute: ",r),a?"admin"===r||"seller"===r?t:l.a.createElement(l.a.Fragment,null," You do not have access to this page"):l.a.createElement(d.a,{to:"/"})},xe=e=>{let{children:t}=e;const{user:a,role:r}=$();return console.log("Check user in CustomerRoute: ",a),console.log("Check user role in CustomerRoute: ",r),a?"admin"===r||"seller"===r||"customer"===r?t:l.a.createElement(l.a.Fragment,null," You do not have access to this page"):l.a.createElement(d.a,{to:"/"})};a(170);var Se=function(){var e;const[t,a]=Object(r.useState)([]),[c,n]=Object(r.useState)(null),[o,s]=Object(r.useState)(""),[m,i]=Object(r.useState)(""),[u,g]=Object(r.useState)(""),[h,b]=Object(r.useState)(""),[v,f]=Object(r.useState)(""),[y,N]=Object(r.useState)({error:!1,msg:""}),[w,O]=Object(r.useState)(""),[j,x]=Object(r.useState)(0),[S,P]=Object(r.useState)(0),[k,I]=Object(r.useState)(0),[U,D]=Object(r.useState)(0),[T,L]=Object(r.useState)(!1),[H,B]=Object(r.useState)(!1),[W,R]=Object(r.useState)([]),G=(null===(e=Object(d.o)().state)||void 0===e?void 0:e.selectedProducts)||[],$=Object(d.q)();Object(r.useEffect)(()=>{let e=G.reduce((e,t)=>e+t.productPrice,0);x(e);const t=.15*e;I(t);D(e+t)},[G]);const M={DISCOUNT50:.5,DISCOUNT20:.2,DISCOUNT15:.15,DISCOUNT10:.1},q=async e=>{e.preventDefault();const t=Object(C.c)().currentUser,a=t?t.uid:null;if(!a)return void N({error:!0,msg:"User not logged in!"});N(""),R([]);let r=[];if(""===m&&r.push("Street Address"),""===u&&r.push("City"),""===h&&r.push("State/Province/Region"),""===v&&r.push("Zip/Postal Code"),""===w&&r.push("Country"),""===o&&r.push("Card Number"),r.length>0)return R(r),void B(!0);const l={paymentId:"",userId:a,cardNumber:function(e){return e.split("").map(e=>String.fromCharCode(e.charCodeAt(0)+3)).join("")}(o)||"",address:m||"",city:u||"",region:h||"",zipCode:v||"",country:w||"",serverFee:k.toFixed(2),totalCost:U.toFixed(2),items:G.map(e=>({productName:e.productName||"Unknown Product",productDescription:e.productDescription||"",productPrice:e.productPrice||0,imageUrls:e.imageUrls||"",sellerId:e.sellerId||"Unknown Seller"}))};try{await J.addCheckout(l,a),N({error:!1,msg:"Payment successful!"}),L(!0)}catch(c){N({error:!0,msg:c.message})}i(""),g(""),O(""),b(""),f(""),s("")};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"p-4 box"},l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"main-content"},(null===y||void 0===y?void 0:y.msg)&&l.a.createElement(A.a,{variant:(null===y||void 0===y?void 0:y.error)?"danger":"success",dismissible:!0,onClose:()=>N("")},null===y||void 0===y?void 0:y.msg),l.a.createElement("h2",{className:"text-center mb-4"},"Checkout"),l.a.createElement("div",{className:"products-history"},l.a.createElement("h4",null,"Products History")),l.a.createElement("br",null),G.length>0?l.a.createElement("div",{className:"row justify-content-center"},G.map((e,t)=>l.a.createElement("div",{className:"col-md-4",key:t},l.a.createElement("div",{className:"card text-center"},l.a.createElement("div",{className:"card-body"},e.imageUrls&&l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,className:"card-img-top"})),l.a.createElement("h5",{className:"card-title"},e.productName),l.a.createElement("p",{className:"card-text"},e.productDescription),l.a.createElement("p",{className:"card-text"},l.a.createElement("strong",null,"Price: $",e.productPrice))))))):l.a.createElement("p",null,"Your cart is empty."),l.a.createElement("br",null),l.a.createElement(F.a,{onSubmit:q},l.a.createElement("div",{className:"form-container"},l.a.createElement("div",{className:"form-box"},l.a.createElement("div",{className:"flex-container"},l.a.createElement(fe.a,{className:"input-width"},l.a.createElement(F.a.Control,{type:"text",placeholder:"Discount Code",maxLength:10,value:t,onChange:e=>a(e.target.value)})),l.a.createElement(p.a,{variant:"success",size:"md",className:"apply-button",onClick:()=>{const e=M[t.toUpperCase()]||0;if(e>0){const t=j*e,r=j-t+k;P(t),D(r),a(""),N({error:!1,msg:"Discount applied successfully!"})}else N({error:!0,msg:"Invalid discount code!"})}},"Apply"),l.a.createElement(p.a,{variant:"danger",size:"md",className:"remove-button",onClick:()=>{const e=j+k;P(0),D(e),n(null),N({error:!1,msg:"Discount removed successfully!"})}},"Remove")),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formCardNumber"},l.a.createElement(fe.a,null,l.a.createElement(fe.a.Text,{id:"formCardNumber"},"Card Number "),l.a.createElement(F.a.Control,{type:"text",placeholder:"xxxx xxxx xxxx xxxx",maxLength:19,value:o,onChange:e=>(e=>{const{value:t}=e.target;let a=t.replace(/\D/g,"");a=a.replace(/(\d{4})(?=\d)/g,"$1 "),s(a)})(e),style:{width:"100%"}}))),l.a.createElement("p",null,"Billing Address"),l.a.createElement("hr",null),l.a.createElement(F.a.Group,{className:"mb-3",controlId:"formStreetAddress"},l.a.createElement(fe.a,null,l.a.createElement(fe.a.Text,{id:"formStreetAddress"},"Street Address "),l.a.createElement(F.a.Control,{type:"text",placeholder:"Street Address",value:m,onChange:e=>i(e.target.value),style:{width:"100%"}}))),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement(F.a.Group,{className:"mb-3 flex-grow-1 me-3",controlId:"formCity"},l.a.createElement(fe.a,null,l.a.createElement(fe.a.Text,{id:"formCity"},"City "),l.a.createElement(F.a.Control,{type:"text",placeholder:"City",value:u,onChange:e=>g(e.target.value),style:{width:"100%"}}))),l.a.createElement(F.a.Group,{className:"mb-3 flex-grow-1",controlId:"formRegion"},l.a.createElement(fe.a,null,l.a.createElement(fe.a.Text,{id:"formRegion"},"State/Province/Region "),l.a.createElement(F.a.Control,{type:"text",placeholder:"State/Province/Region",value:h,onChange:e=>b(e.target.value),style:{width:"100%"}})))),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement(F.a.Group,{className:"mb-3 flex-grow-1 me-3",controlId:"formZipCode"},l.a.createElement(fe.a,null,l.a.createElement(fe.a.Text,{id:"formZipCode"},"Zip/Postal Code "),l.a.createElement(F.a.Control,{type:"text",placeholder:"Zip/Postal Code",value:v,onChange:e=>f(e.target.value),style:{width:"100%"}}))),l.a.createElement(F.a.Group,{className:"mb-3 flex-grow-1",controlId:"formCountry"},l.a.createElement(fe.a,null,l.a.createElement(fe.a.Text,{id:"formCountry"},"Country "),l.a.createElement(F.a.Control,{type:"text",placeholder:"Country",value:w,onChange:e=>O(e.target.value),style:{width:"100%"}})))),l.a.createElement("div",{className:"form-box"},l.a.createElement("h5",{style:{textAlign:"center"}},"Payment Summary"),l.a.createElement("br",null),l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"align-items"},l.a.createElement("span",{className:"label"},"Sub Total:"),l.a.createElement("span",{className:"value"},"$",j.toFixed(2))),l.a.createElement("div",{className:"align-items"},l.a.createElement("span",{className:"label"},"Discount:"),l.a.createElement("span",{className:"value"},"$-",S.toFixed(2))),l.a.createElement("div",{className:"align-items"},l.a.createElement("span",{className:"label"},"Server Fee (15%):"),l.a.createElement("span",{className:"value"},"$",k.toFixed(2))),l.a.createElement("br",null),l.a.createElement("div",{className:"align-items"},l.a.createElement("span",{className:"label"},"Total Cost:"),l.a.createElement("span",{className:"value"},"$",U.toFixed(2)))),l.a.createElement("br",null)),l.a.createElement("div",{className:"text-center mt-3"},l.a.createElement(p.a,{variant:"success",size:"lg",className:"paynow-button",onClick:q,type:"submit"},"Pay Now")))))))),l.a.createElement(E.a,{show:T,onHide:()=>L(!1)},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,"Payment Successful")),l.a.createElement(E.a.Body,null,"Your payment was processed successfully!"),l.a.createElement(E.a.Footer,null,l.a.createElement(p.a,{variant:"success",onClick:()=>{L(!1),$("/Cart")}},"Close"))),l.a.createElement(E.a,{show:H,onHide:()=>B(!1)},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,"Missing Information")),l.a.createElement(E.a.Body,null,"Please fill in the following mandatory fields:",l.a.createElement("ul",null,W.map((e,t)=>l.a.createElement("li",{key:t},e)))),l.a.createElement(E.a.Footer,null,l.a.createElement(p.a,{variant:"danger",onClick:()=>B(!1)},"Close"))))},Pe=a(106);var ke=()=>{const[e,t]=Object(r.useState)([]),[a,c]=Object(r.useState)([]),[n,o]=Object(r.useState)("");Object(r.useEffect)(()=>{(async()=>{try{const e=(await W.getAllData()).docs.map(e=>({...e.data(),id:e.id}));t(e.filter(e=>"customer"===e.role)),c(e.filter(e=>"seller"===e.role))}catch(e){console.error("Error fetching users:",e)}})()},[]);const s=async(r,l)=>{try{const n=[...e,...a].find(e=>e.id===r);n&&(await W.updateData(r,{...n,role:l}),"customer"===l?(t(e=>[...e,{...n,role:l}]),c(e=>e.filter(e=>e.id!==r))):"seller"===l&&(c(e=>[...e,{...n,role:l}]),t(e=>e.filter(e=>e.id!==r))))}catch(n){console.error("Error updating role:",n)}},m=async e=>{try{await W.deleteData(e),t(t=>t.filter(t=>t.id!==e)),c(t=>t.filter(t=>t.id!==e))}catch(a){console.error("Error deleting user:",a)}},i=e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())),u=a.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()));return l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement(Q,null)," ",l.a.createElement("h2",null,"Manage Users"),l.a.createElement(fe.a,{className:"mb-3"},l.a.createElement(Pe.a,{placeholder:"Search users by name",value:n,onChange:e=>o(e.target.value)})),l.a.createElement("h3",null,"Customers"),l.a.createElement(K.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Role"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,i.map(e=>l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.mobile),l.a.createElement("td",null,l.a.createElement(F.a.Select,{value:e.role,onChange:t=>s(e.id,t.target.value)},l.a.createElement("option",{value:"customer"},"Customer"),l.a.createElement("option",{value:"seller"},"Seller"))),l.a.createElement("td",null,l.a.createElement(p.a,{variant:"danger",onClick:()=>m(e.id)},"Delete")))))),l.a.createElement("h3",null,"Sellers"),l.a.createElement(K.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Role"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,u.map(e=>l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.mobile),l.a.createElement("td",null,l.a.createElement(F.a.Select,{value:e.role,onChange:t=>s(e.id,t.target.value)},l.a.createElement("option",{value:"seller"},"Seller"),l.a.createElement("option",{value:"customer"},"Customer"))),l.a.createElement("td",null,l.a.createElement(p.a,{variant:"danger",onClick:()=>m(e.id)},"Delete")))))))};a(171);var Ie=function(){const{user:e}=$(),[t,a]=Object(r.useState)(""),[c,n]=Object(r.useState)(0);return Object(r.useEffect)(()=>{if(e&&e.uid){const t=async()=>{try{const t=await J.getAllCheckouts();let a=0;t.docs.forEach(t=>{const r=t.data();r.items&&r.items.forEach(t=>{if(t.sellerId===e.uid){const e=parseFloat(t.productPrice||0);a+=.85*e}})}),n(a.toFixed(2))}catch(t){console.error("Error fetching earnings data: ",t)}};(async()=>{try{const t=await W.getData(e.uid);if(t.exists()){const e=t.data();a(e.name)}}catch(t){console.error("Error fetching user data: ",t)}})(),t()}},[e]),l.a.createElement("div",{className:"main-content"},l.a.createElement(re,null),l.a.createElement("h2",{className:"welcome-message"},"Welcome to the Seller Dashboard, ",t,"!"),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"user-profile"},l.a.createElement(Y,null)),l.a.createElement("div",{className:"dashboard-summary"},l.a.createElement("h3",{className:"summary-box"},l.a.createElement("p",{className:"text"},"Total Earnings "),"$",c))))};var Ue=()=>{const{products:e,deleteProduct:t,updateProduct:a}=U(),[c,n]=Object(r.useState)([]),[o,s]=Object(r.useState)(!1),[m,i]=Object(r.useState)(null),[u]=Object(r.useState)(["Electronics","Fashion","Books","Home"]);Object(r.useEffect)(()=>{n(e)},[e]);const d=e=>{const{name:t,value:a}=e.target;i({...m,[t]:a})};return l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement(Q,null)," ",l.a.createElement("h2",null,"Manage Products")," ",l.a.createElement(K.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Seller"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,c.map(e=>l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.productName),l.a.createElement("td",null,e.productPrice),l.a.createElement("td",null,e.productDescription),l.a.createElement("td",null,e.sellerUsername),l.a.createElement("td",null,l.a.createElement(p.a,{variant:"warning",onClick:()=>(e=>{i(e),s(!0)})(e)},"Edit")," ",l.a.createElement(p.a,{variant:"danger",onClick:()=>{return a=e.id,void t(a);var a}},"Delete")))))),l.a.createElement(E.a,{show:o,onHide:()=>s(!1)},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,"Edit Product")),l.a.createElement(E.a.Body,null,m&&l.a.createElement(F.a,null,l.a.createElement(F.a.Group,{controlId:"formProductName"},l.a.createElement(F.a.Label,null,"Name"),l.a.createElement(F.a.Control,{type:"text",name:"productName",value:m.productName,onChange:d})),l.a.createElement(F.a.Group,{controlId:"formProductPrice"},l.a.createElement(F.a.Label,null,"Price"),l.a.createElement(F.a.Control,{type:"number",name:"productPrice",value:m.productPrice,onChange:d})),l.a.createElement(F.a.Group,{controlId:"formProductDescription"},l.a.createElement(F.a.Label,null,"Description"),l.a.createElement(F.a.Control,{as:"textarea",name:"productDescription",value:m.productDescription,onChange:d})),l.a.createElement(F.a.Group,{controlId:"formProductCategory"},l.a.createElement(F.a.Label,null,"Category"),l.a.createElement(F.a.Select,{name:"category",value:m.category,onChange:d},u.map((e,t)=>l.a.createElement("option",{key:t,value:e},e)))))),l.a.createElement(E.a.Footer,null,l.a.createElement(p.a,{variant:"secondary",onClick:()=>s(!1)},"Close"),l.a.createElement(p.a,{variant:"primary",onClick:()=>{a(m.id,m),s(!1)}},"Save Changes"))))};var De=()=>{const{products:e,deleteProduct:t}=U(),{user:a,role:c}=$(),[n,o]=Object(r.useState)([]),[s,m]=Object(r.useState)(!1),[i,u]=Object(r.useState)(!1),[d,g]=Object(r.useState)(null);Object(r.useEffect)(()=>{if(a&&e.length>0){const t=e.filter(e=>e.sellerId===a.uid);o(t)}},[e,a]);const h=e=>{const{name:t,value:a}=e.target;g({...d,[t]:a})};return l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},"admin"===c&&l.a.createElement(Q,null),"seller"===c&&l.a.createElement(re,null),l.a.createElement("h2",null,"My Listings"),n.length>0?l.a.createElement(K.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,n.map(e=>l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,l.a.createElement(p.a,{variant:"link",onClick:()=>(e=>{g(e),u(!0)})(e)},e.productName)),l.a.createElement("td",null,e.productPrice),l.a.createElement("td",null,l.a.createElement(p.a,{variant:"warning",onClick:()=>(e=>{g(e),m(!0)})(e)},"Edit")," ",l.a.createElement(p.a,{variant:"danger",onClick:()=>(async e=>{try{await t(e),o(n.filter(t=>t.id!==e))}catch(a){console.error("Error deleting product:",a)}})(e.id)},"Delete")))))):l.a.createElement("p",null,"No products found for this seller."),l.a.createElement(E.a,{show:s,onHide:()=>m(!1)},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,"Edit Product")),l.a.createElement(E.a.Body,null,d&&l.a.createElement(F.a,null,l.a.createElement(F.a.Group,{controlId:"formProductName"},l.a.createElement(F.a.Label,null,"Product Name"),l.a.createElement(F.a.Control,{type:"text",name:"productName",value:d.productName,onChange:h})),l.a.createElement(F.a.Group,{controlId:"formProductPrice"},l.a.createElement(F.a.Label,null,"Price"),l.a.createElement(F.a.Control,{type:"text",name:"productPrice",value:d.productPrice,onChange:h})),l.a.createElement(F.a.Group,{controlId:"formProductDescription"},l.a.createElement(F.a.Label,null,"Description"),l.a.createElement(F.a.Control,{as:"textarea",rows:3,name:"productDescription",value:d.productDescription,onChange:h})),l.a.createElement(F.a.Group,{controlId:"formProductCategory"},l.a.createElement(F.a.Label,null,"Category"),l.a.createElement(F.a.Control,{type:"text",name:"category",value:d.category,onChange:h})),l.a.createElement(F.a.Group,{controlId:"formSellerUsername"},l.a.createElement(F.a.Label,null,"Username"),l.a.createElement(F.a.Control,{type:"text",name:"sellerUsername",value:d.sellerUsername,onChange:h})))),l.a.createElement(E.a.Footer,null,l.a.createElement(p.a,{variant:"secondary",onClick:()=>m(!1)},"Close"),l.a.createElement(p.a,{variant:"primary",onClick:async()=>{try{await W.updateData(d.id,d),o(n.map(e=>e.id===d.id?d:e)),m(!1)}catch(e){console.error("Error updating product:",e)}}},"Save Changes"))),l.a.createElement(E.a,{show:i,onHide:()=>u(!1),size:"lg"},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,"Product Details")),l.a.createElement(E.a.Body,null,d?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("strong",null,"Name:")," ",d.productName),l.a.createElement("p",null,l.a.createElement("strong",null,"Price:")," ",d.productPrice),l.a.createElement("p",null,l.a.createElement("strong",null,"Description:")," ",d.productDescription),l.a.createElement("p",null,l.a.createElement("strong",null,"Category:")," ",d.category),l.a.createElement("p",null,l.a.createElement("strong",null,"Username:")," ",d.sellerUsername)):l.a.createElement("p",null,"No product details available."))))};a(172);var Te=()=>{const{orders:e,updateOrderStatus:t}=U(),{user:a}=$(),[c,n]=Object(r.useState)([]),[o,s]=Object(r.useState)(null),[m,i]=Object(r.useState)(!1);Object(r.useEffect)(()=>{if(a&&a.uid){const t=e.filter(e=>"complete"!==e.status).map(e=>({...e,items:e.items?e.items.filter(e=>e.sellerId===a.uid):[]})).filter(e=>e.items.length>0);n(t)}},[e,a]);return l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement(le,null),l.a.createElement("h2",null,"My Orders"),l.a.createElement("div",{className:"table-container"},c.length>0?l.a.createElement(K.a,{striped:!0,bordered:!0,hover:!0,className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Product Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Server Fee"),l.a.createElement("th",null,"Profit"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,c.map((e,r)=>e.items.map((r,c)=>l.a.createElement("tr",{key:c},l.a.createElement("td",{onClick:()=>(async e=>{try{const t=await J.getAllCheckouts(),r=t.docs.map(e=>({id:e.id,...e.data()})).find(t=>t.items.some(t=>t.productName===e.productName&&t.sellerId===a.uid));if(r){const t=r.items.find(t=>t.productName===e.productName),a=t.productPrice||0,l=.15*a,c=.85*a;s({...t,paymentId:r.paymentId,serverFee:l,profit:c,address:r.address||"N/A",region:r.region||"N/A",zipCode:r.zipCode||"N/A",city:r.city||"N/A",country:r.country||"N/A"}),i(!0)}}catch(t){console.error("Error fetching checkouts: ",t)}})(r),style:{cursor:"pointer"}},r.productName),l.a.createElement("td",null,r.productPrice.toFixed(2)),l.a.createElement("td",null,(.15*r.productPrice).toFixed(2))," ",l.a.createElement("td",null,(.85*r.productPrice).toFixed(2))," ",l.a.createElement("td",null,l.a.createElement("select",{value:e.status,onChange:a=>{return r=e.id,l=a.target.value,void t(r,l);var r,l}},l.a.createElement("option",{value:"not done"},"Not Done"),l.a.createElement("option",{value:"in progress"},"In Progress"),l.a.createElement("option",{value:"delivered"},"Delivered"),l.a.createElement("option",{value:"complete"},"Complete")))))))):l.a.createElement("p",null,"No orders found for this seller.")),l.a.createElement(E.a,{show:m,onHide:()=>i(!1),size:"lg"},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,"Product Details")),l.a.createElement(E.a.Body,{className:"modal-content"},o?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("strong",null,"Name:")," ",o.productName||"N/A"),l.a.createElement("p",null,l.a.createElement("strong",null,"Description:")," ",o.productDescription||"N/A"),l.a.createElement("p",null,l.a.createElement("strong",null,"Price:")," ",o.productPrice?o.productPrice.toFixed(2):"N/A"),l.a.createElement("p",null,l.a.createElement("strong",null,"Payment ID:")," ",o.paymentId||"N/A"),l.a.createElement("p",null,l.a.createElement("strong",null,"Server Fee:")," ",o.serverFee?o.serverFee.toFixed(2):"N/A"),l.a.createElement("p",null,l.a.createElement("strong",null,"Profit:")," ",o.profit?o.profit.toFixed(2):"N/A"),l.a.createElement("p",null,l.a.createElement("strong",null,"Address:")," ",o.address),l.a.createElement("p",null,l.a.createElement("strong",null,"Region:")," ",o.region),l.a.createElement("p",null,l.a.createElement("strong",null,"Zip Code:")," ",o.zipCode),l.a.createElement("p",null,l.a.createElement("strong",null,"City:")," ",o.city),l.a.createElement("p",null,l.a.createElement("strong",null,"Country:")," ",o.country)):l.a.createElement("p",null,"No product details available."))))};var Le=()=>{const[e,t]=Object(r.useState)([]);Object(r.useEffect)(()=>{(async()=>{try{const e=(await Object(N.f)(Object(N.b)(S,"sellerQueries"))).docs.map(e=>({id:e.id,...e.data()}));t(e)}catch(e){console.error("Error fetching queries:",e)}})()},[]);return l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement(Q,null),l.a.createElement("h2",null,"Seller Queries"),e.length>0?l.a.createElement(K.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Query ID"),l.a.createElement("th",null,"User Name"),l.a.createElement("th",null,"Reason"),l.a.createElement("th",null,"Submitted At"),l.a.createElement("th",null,"ID Image"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,e.map(e=>l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.userName),l.a.createElement("td",null,e.reason),l.a.createElement("td",null,new Date(1e3*e.submittedAt.seconds).toLocaleString()),l.a.createElement("td",null,e.imageUrl?l.a.createElement("img",{src:e.imageUrl,alt:"User ID",style:{width:"100px",height:"100px",objectFit:"cover"}}):"No Image"),l.a.createElement("td",null,l.a.createElement(p.a,{variant:"success",onClick:()=>(async e=>{try{const a=Object(N.d)(S,"users",e.userId);await Object(N.j)(a,{role:"seller"}),await Object(N.c)(Object(N.d)(S,"sellerQueries",e.id)),t(t=>t.filter(t=>t.id!==e.id)),alert("User approved as seller.")}catch(a){console.error("Error approving seller:",a)}})(e)},"Approve")," ",l.a.createElement(p.a,{variant:"danger",onClick:()=>(async e=>{try{await Object(N.c)(Object(N.d)(S,"sellerQueries",e)),t(t=>t.filter(t=>t.id!==e)),alert("Seller query declined.")}catch(a){console.error("Error declining seller:",a)}})(e.id)},"Decline")))))):l.a.createElement("p",null,"No seller queries found."))};var Ae=()=>{const[e,t]=Object(r.useState)(""),[a,c]=Object(r.useState)(null),{user:n}=$();return l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement(le,null),"  ",l.a.createElement("h2",null,"Become a Seller"),l.a.createElement(F.a,{onSubmit:async r=>{r.preventDefault();try{let r="";if(a){const e=Object(O.c)(P,`sellerImages/${n.uid}_${a.name}`);await Object(O.d)(e,a),r=await Object(O.a)(e)}const l={reason:e,userId:n.uid,userName:n.email,submittedAt:new Date,imageUrl:r};await Object(N.a)(Object(N.b)(S,"sellerQueries"),l),t(""),c(null),alert("Your request has been submitted.")}catch(l){console.error("Error submitting request:",l)}}},l.a.createElement(F.a.Group,{controlId:"reason"},l.a.createElement(F.a.Label,null,"Why do you want to be a seller?"),l.a.createElement(F.a.Control,{as:"textarea",rows:3,value:e,onChange:e=>t(e.target.value),required:!0})),l.a.createElement(F.a.Group,{controlId:"image"},l.a.createElement(F.a.Label,null,"Upload ID Image"),l.a.createElement(F.a.Control,{type:"file",accept:"image/*",onChange:e=>{e.target.files[0]&&c(e.target.files[0])},required:!0})),l.a.createElement(p.a,{variant:"success",type:"submit"},"Submit")),l.a.createElement(y,null),"  ")};var Fe=()=>{const{orders:e}=U(),{user:t}=$(),[a,c]=Object(r.useState)([]),[n,o]=Object(r.useState)(null),[s,m]=Object(r.useState)(!1),[i,u]=Object(r.useState)("");Object(r.useEffect)(()=>{(async()=>{if(t&&t.uid)try{console.log("Fetching orders for user:",t.uid);const e=Object(N.h)(Object(N.b)(S,"checkout"),Object(N.k)("userId","==",t.uid)),a=(await Object(N.f)(e)).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched Orders:",a),c(a)}catch(e){console.error("Error fetching orders:",e)}})()},[t]);return l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement(le,null)," ",l.a.createElement("h2",null,"My Orders"),l.a.createElement("div",{className:"table-container"},a.length>0?l.a.createElement(K.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Order ID"),l.a.createElement("th",null,"Product Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,a.map((e,t)=>e.items.map((t,a)=>l.a.createElement("tr",{key:`${e.id}-${t.productName||a}`}," ",l.a.createElement("td",null,e.id),l.a.createElement("td",null,t.productName),l.a.createElement("td",null,t.productPrice.toFixed(2)),l.a.createElement("td",null,e.status),l.a.createElement("td",null,"complete"===e.status&&l.a.createElement(p.a,{onClick:()=>(e=>{if(console.log("Selected item for review:",e),!e.productName)return console.error("Product name is missing from the item:",e),void alert("Cannot leave a review for this product: Product name is missing.");o(e),m(!0)})(t)},"Leave Review"))))))):l.a.createElement("p",null,"No orders found.")),l.a.createElement(E.a,{show:s,onHide:()=>m(!1)},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,"Leave a Review for ",n?n.productName:"Product")),l.a.createElement(E.a.Body,null,l.a.createElement(F.a,null,l.a.createElement(F.a.Group,{controlId:"reviewContent"},l.a.createElement(F.a.Label,null,"Review"),l.a.createElement(F.a.Control,{as:"textarea",rows:3,value:i,onChange:e=>u(e.target.value),placeholder:"Write your review here..."})))),l.a.createElement(E.a.Footer,null,l.a.createElement(p.a,{variant:"secondary",onClick:()=>m(!1)},"Close"),l.a.createElement(p.a,{variant:"primary",onClick:async()=>{if(i.trim())try{if(!n||!n.productName)return console.error("Product name is missing from the item:",n),void alert("Cannot submit review: Product name is missing.");await Object(N.a)(Object(N.b)(S,"reviews"),{productName:n.productName,userId:t.uid,content:i,customerName:t.displayName||t.email,createdAt:new Date}),alert("Review submitted successfully!"),u(""),m(!1)}catch(e){console.error("Error submitting review:",e)}}},"Submit Review"))))};var He=function(){const[e,t]=Object(r.useState)([]),[a,c]=Object(r.useState)([]),[n,o]=Object(r.useState)([]),[s,m]=Object(r.useState)(""),[i,u]=Object(r.useState)(null),[d,h]=Object(r.useState)(!1),[b,v]=Object(r.useState)("default"),{cartItems:f,addToCart:w}=oe(),{addToWishlist:C}=ie(),O=x.currentUser;Object(r.useEffect)(()=>{(async()=>{try{const e=(await Object(N.f)(Object(N.b)(S,"products"))).docs.map(e=>({productId:e.id,...e.data()}));t(e),c(e)}catch(e){console.error("Error fetching products:",e)}})()},[]),Object(r.useEffect)(()=>{let e=[...a];"priceLowToHigh"===b?e.sort((e,t)=>e.productPrice-t.productPrice):"priceHighToLow"===b&&e.sort((e,t)=>t.productPrice-e.productPrice),c(e)},[b]);const j=e=>{u(e),h(!0),I(e.category)},P=()=>h(!1),k=e=>{if(!O)return void alert("Please log in to add items to the cart.");f.some(t=>t.productId===e.productId)?alert("This product is already in your cart."):w({...e})},I=async e=>{try{const t=Object(N.h)(Object(N.b)(S,"products"),Object(N.k)("category","==",e)),a=(await Object(N.f)(t)).docs.map(e=>({productId:e.id,...e.data()}));o(a)}catch(t){console.error("Error fetching similar products:",t)}};return l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement("h2",{className:"text-center"},"All Products"),l.a.createElement("div",{className:"search-bar text-center mb-4"},l.a.createElement("input",{type:"text",placeholder:"Search for products...",value:s,onChange:t=>{const a=t.target.value.toLowerCase();m(a);const r=e.filter(e=>{var t;return e.productName.toLowerCase().includes(a)||e.productDescription.toLowerCase().includes(a)||(null===(t=e.sellerUsername)||void 0===t?void 0:t.toLowerCase().includes(a))});c(r)},className:"form-control",style:{maxWidth:"400px",margin:"0 auto"}})),l.a.createElement("div",{className:"sort-options text-center mb-4"},l.a.createElement("select",{value:b,onChange:e=>{v(e.target.value)},className:"form-control",style:{maxWidth:"200px",margin:"0 auto"}},l.a.createElement("option",{value:"default"},"Price"),l.a.createElement("option",{value:"priceLowToHigh"},"Price: Low to High"),l.a.createElement("option",{value:"priceHighToLow"},"Price: High to Low"))),a.length>0?l.a.createElement("div",{className:"row justify-content-center"},a.map((e,t)=>l.a.createElement("div",{className:"col-md-4",key:t},l.a.createElement("div",{className:"card text-center"},l.a.createElement("div",{className:"card-body"},e.imageUrls&&e.imageUrls[0]&&l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("h5",{className:"card-title"},e.productName),l.a.createElement("p",{className:"card-text"},l.a.createElement("strong",null,"Price: $",e.productPrice)),l.a.createElement("p",{className:"card-text"},e.productDescription),l.a.createElement("p",{className:"card-text"},"Seller Username: ",e.sellerUsername||"Unknown"),l.a.createElement("button",{className:"btn add-to-cart mb-2",onClick:()=>k(e)},"Add to Cart"),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00"},onClick:()=>j(e)},"View Details")))))):l.a.createElement("p",null,"No products found.")),l.a.createElement(y,null),i&&l.a.createElement(E.a,{show:d,onHide:P,scrollable:!0},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,i.productName)),l.a.createElement(E.a.Body,{style:{maxHeight:"500px",overflowY:"auto"}},i.imageUrls&&i.imageUrls.length>0&&l.a.createElement(g.a,null,i.imageUrls.map((e,t)=>l.a.createElement(g.a.Item,{key:t},l.a.createElement(ae.a,{smallImage:{alt:i.productName,isFluidWidth:!0,src:e},largeImage:{src:e,width:1200,height:1200},enlargedImagePosition:"beside",isHintEnabled:!0})))),l.a.createElement("div",{className:"product-details"},l.a.createElement("p",{className:"product-price"},"Price: $",i.productPrice),l.a.createElement("p",null,i.productDescription),l.a.createElement("p",{className:"product-description"},i.productDetailedDescription),l.a.createElement("p",{className:"product-seller-username"},"Seller Username: ",i.sellerUsername||"Unknown")),l.a.createElement("div",{className:"product-buttons"},l.a.createElement(p.a,{variant:"warning",className:"mb-3",onClick:()=>{O?i?(C({...i}),P()):console.error("No product selected or product data is incomplete."):alert("Please log in to add items to your wishlist.")}},"Add to Wishlist"),l.a.createElement(p.a,{variant:"primary",className:"mb-3",onClick:()=>k(i)},"Add to Cart"),l.a.createElement(p.a,{variant:"secondary",className:"mb-3",onClick:P},"Close")),l.a.createElement("div",{className:"similar-products"},l.a.createElement("h5",null,"Similar Products"),l.a.createElement("div",{className:"row"},n.map((e,t)=>l.a.createElement("div",{className:"col-4",key:t},l.a.createElement("div",{className:"card text-center"},l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h6",null,e.productName),l.a.createElement("p",null,"Price: $",e.productPrice),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00",color:"white",width:"100%",marginTop:"10px"},onClick:()=>j(e)},"View Details"))))))))))};var Be=function(){const[e,t]=Object(r.useState)([]),[a,c]=Object(r.useState)([]),[n,o]=Object(r.useState)([]),[s,m]=Object(r.useState)(null),[i,u]=Object(r.useState)(!1),[d,h]=Object(r.useState)("default"),{cartItems:b,addToCart:v}=oe(),{addToWishlist:f}=ie(),w=x.currentUser;Object(r.useEffect)(()=>{(async()=>{try{const e=Object(N.h)(Object(N.b)(S,"products"),Object(N.k)("category","==","other")),a=(await Object(N.f)(e)).docs.map(e=>({productId:e.id,...e.data()}));t(a),c(a)}catch(e){console.error("Error fetching products:",e)}})()},[]),Object(r.useEffect)(()=>{c((e=>"priceLowToHigh"===d?[...e].sort((e,t)=>e.productPrice-t.productPrice):"priceHighToLow"===d?[...e].sort((e,t)=>t.productPrice-e.productPrice):e)(a))},[d,a]);const C=()=>u(!1),O=e=>{if(!w)return void alert("Please log in to add items to the cart.");b.some(t=>t.productId===e.productId)?alert("This product is already in your cart."):v({...e})},j=async e=>{try{const t=Object(N.h)(Object(N.b)(S,"products"),Object(N.k)("category","==",e)),a=(await Object(N.f)(t)).docs.map(e=>({productId:e.id,...e.data()}));o(a)}catch(t){console.error("Error fetching similar products:",t)}};return l.a.createElement("div",{className:"wrapper"},l.a.createElement(le,null),l.a.createElement("div",{className:"main-content",style:{marginTop:-70}},l.a.createElement("h2",{className:"text-center"},"Other Products"),l.a.createElement("div",{className:"search-bar text-center mb-4"},l.a.createElement("input",{type:"text",placeholder:"Search for products...",onChange:t=>{const a=t.target.value.toLowerCase(),r=e.filter(e=>{var t;return e.productName.toLowerCase().includes(a)||e.productDescription.toLowerCase().includes(a)||(null===(t=e.sellerUsername)||void 0===t?void 0:t.toLowerCase().includes(a))});c(r)},className:"form-control",style:{maxWidth:"400px",margin:"0 auto"}})),l.a.createElement("div",{className:"sort-options text-center mb-4"},l.a.createElement("select",{value:d,onChange:e=>{h(e.target.value)},className:"form-control",style:{maxWidth:"200px",margin:"0 auto"}},l.a.createElement("option",{value:"default"},"Sort by Price"),l.a.createElement("option",{value:"priceLowToHigh"},"Price: Low to High"),l.a.createElement("option",{value:"priceHighToLow"},"Price: High to Low"))),a.length>0?l.a.createElement("div",{className:"row justify-content-center"},a.map((e,t)=>l.a.createElement("div",{className:"col-md-4",key:t},l.a.createElement("div",{className:"card text-center"},l.a.createElement("div",{className:"card-body"},e.imageUrls&&e.imageUrls[0]&&l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("h5",{className:"card-title"},e.productName),l.a.createElement("p",{className:"card-text"},l.a.createElement("strong",null,"Price: $",e.productPrice)),l.a.createElement("p",{className:"card-text"},e.productDescription),l.a.createElement("p",{className:"card-text"},"Seller Username: ",e.sellerUsername||"Unknown"),l.a.createElement("button",{className:"btn add-to-cart mb-2",onClick:()=>O(e)},"Add to Cart"),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00"},onClick:()=>(e=>{m(e),u(!0),j(e.category)})(e)},"View Details")))))):l.a.createElement("p",null,"No products found in this category.")),l.a.createElement(y,null),s&&l.a.createElement(E.a,{show:i,onHide:C,scrollable:!0},l.a.createElement(E.a.Header,{closeButton:!0},l.a.createElement(E.a.Title,null,s.productName)),l.a.createElement(E.a.Body,{style:{maxHeight:"500px",overflowY:"auto"}},s.imageUrls&&s.imageUrls.length>0&&l.a.createElement(g.a,null,s.imageUrls.map((e,t)=>l.a.createElement(g.a.Item,{key:t},l.a.createElement(ae.a,{smallImage:{alt:s.productName,isFluidWidth:!0,src:e},largeImage:{src:e,width:1200,height:1200},enlargedImagePosition:"beside",isHintEnabled:!0})))),l.a.createElement("div",{className:"product-details"},l.a.createElement("p",{className:"product-price"},"Price: $",s.productPrice),l.a.createElement("p",null,s.productDescription),l.a.createElement("p",{className:"product-description"},s.productDetailedDescription),l.a.createElement("p",{className:"product-seller-username"},"Seller Username: ",s.sellerUsername||"Unknown")),l.a.createElement("div",{className:"product-buttons"},l.a.createElement(p.a,{variant:"warning",className:"mb-3",onClick:()=>{w?s?(f({...s}),C()):console.error("No product selected or product data is incomplete."):alert("Please log in to add items to your wishlist.")}},"Add to Wishlist"),l.a.createElement(p.a,{variant:"primary",className:"mb-3",onClick:()=>O(s)},"Add to Cart"),l.a.createElement(p.a,{variant:"secondary",className:"mb-3",onClick:C},"Close")),l.a.createElement("div",{className:"similar-products"},l.a.createElement("h5",null,"Similar Products"),l.a.createElement("div",{className:"row"},n.map((e,t)=>l.a.createElement("div",{className:"col-4",key:t},l.a.createElement("div",{className:"card text-center"},e.imageUrls&&e.imageUrls[0]&&l.a.createElement("img",{src:e.imageUrls[0],alt:e.productName,style:{width:"100%",height:"auto"}}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h6",null,e.productName),l.a.createElement("p",null,"Price: $",e.productPrice),l.a.createElement("button",{className:"btn view-details",style:{backgroundColor:"#ff8c00",color:"white",width:"100%",marginTop:"10px"},onClick:()=>(e=>{m(e),j(e.category)})(e)},"View Details"))))))))))};var We=function(){return l.a.createElement(G,null,l.a.createElement(I,null,l.a.createElement(ne,null,l.a.createElement(me,null,l.a.createElement(X,null,l.a.createElement(m.a,null,l.a.createElement(i.a,null,l.a.createElement(u.a,null,l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/",element:l.a.createElement(L,null)}),l.a.createElement(d.b,{path:"/aboutus",element:l.a.createElement(be,null)}),l.a.createElement(d.b,{path:"/login",element:l.a.createElement(M,null)}),l.a.createElement(d.b,{path:"/signup",element:l.a.createElement(q,null)}),l.a.createElement(d.b,{path:"/customer",element:l.a.createElement(xe,null,l.a.createElement(V,null))}),l.a.createElement(d.b,{path:"/admin",element:l.a.createElement(Oe,null,l.a.createElement(te,null))}),l.a.createElement(d.b,{path:"/Furnitures",element:l.a.createElement(ue,null)}),l.a.createElement(d.b,{path:"/Homewares",element:l.a.createElement(de,null)}),l.a.createElement(d.b,{path:"/Electricalgoods",element:l.a.createElement(he,null)}),l.a.createElement(d.b,{path:"/Cart",element:l.a.createElement(pe,null)}),l.a.createElement(d.b,{path:"/return-refund-policy",element:l.a.createElement(ve,null)}),l.a.createElement(d.b,{path:"/contactus",element:l.a.createElement(we,null)}),l.a.createElement(d.b,{path:"/Allproducts",element:l.a.createElement(He,null)}),l.a.createElement(d.b,{path:"/Otherproducts",element:l.a.createElement(Be,null)}),l.a.createElement(d.b,{path:"/addproduct",element:l.a.createElement(je,null,l.a.createElement(Ce,null))}),l.a.createElement(d.b,{path:"/Wishlist",element:l.a.createElement(ge,null)}),l.a.createElement(d.b,{path:"/checkout",element:l.a.createElement(Se,null)}),l.a.createElement(d.b,{path:"/manageusers",element:l.a.createElement(Oe,null,l.a.createElement(ke,null))}),l.a.createElement(d.b,{path:"/seller",element:l.a.createElement(je,null,l.a.createElement(Ie,null))}),l.a.createElement(d.b,{path:"/manageproduct",element:l.a.createElement(Oe,null,l.a.createElement(Ue,null))}),l.a.createElement(d.b,{path:"/mylistings",element:l.a.createElement(je,null,l.a.createElement(De,null))}),l.a.createElement(d.b,{path:"/orders",element:l.a.createElement(je,null,l.a.createElement(Te,null))}),l.a.createElement(d.b,{path:"/sellerqueries",element:l.a.createElement(Oe,null,l.a.createElement(Le,null))}),l.a.createElement(d.b,{path:"/beseller",element:l.a.createElement(xe,null,l.a.createElement(Ae,null))}),l.a.createElement(d.b,{path:"/customer-orders",element:l.a.createElement(Fe,null)}))))))))))};n.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,null,l.a.createElement(We,null)))),s()},69:function(e,t,a){},94:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.d912c6b2.chunk.js.map